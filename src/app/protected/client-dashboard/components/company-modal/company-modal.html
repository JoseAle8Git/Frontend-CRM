<h2 mat-dialog-title style="display:flex; align-items:center; gap:10px;">
  <mat-icon>business</mat-icon> 
  {{ data.company.companyName }}
</h2>

<mat-dialog-content>
  <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px; background: #f5f5f5; padding: 15px; border-radius: 8px;">
    <span><strong>CIF:</strong> {{ data.company.cif }}</span>
    <span><strong>Plan:</strong> {{ data.company.servicePackage }}</span>
    <span><strong>Dirección:</strong> {{ data.company.direction }}</span>
    <span><strong>Estado:</strong> {{ data.company.active ? '✅ Activo' : '❌ Inactivo' }}</span>
  </div>

  <mat-tab-group mat-stretch-tabs="false" mat-align-tabs="start">
    
    <mat-tab label="Facturación y Clientes">
      <div style="margin-top: 15px;">
        <table mat-table [dataSource]="data.subClients" class="mat-elevation-z1" style="width: 100%;">
          
          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef> Cliente </th>
            <td mat-cell *matCellDef="let c"> <strong>{{ c.company_name }}</strong> </td>
          </ng-container>

          <ng-container matColumnDef="active">
            <th mat-header-cell *matHeaderCellDef> Estado </th>
            <td mat-cell *matCellDef="let c"> 
              {{ c.active ? '✅' : '❌' }} 
            </td>
          </ng-container>

          <ng-container matColumnDef="billing">
            <th mat-header-cell *matHeaderCellDef> Facturación </th>
            <td mat-cell *matCellDef="let c"> {{ c.billing | currency:'EUR' }} </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="['name', 'active', 'billing']"></tr>
          <tr mat-row *matRowDef="let row; columns: ['name', 'active', 'billing'];"></tr>
        </table>

        @if(data.subClients.length === 0) { <p style="padding:10px; color:grey;">No hay clientes registrados.</p> }
      </div>
    </mat-tab>

  </mat-tab-group>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-stroked-button mat-dialog-close>Cerrar</button>
</mat-dialog-actions>