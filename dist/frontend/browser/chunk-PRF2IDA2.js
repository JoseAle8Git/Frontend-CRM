import{A as E,C as L,E as I,Ea as V,Fa as P,Ga as H,Ha as O,Ka as U,La as z,Ma as J,Na as K,Oa as Q,g as v,na as T,o as C,pa as N,qa as A,r as F,ra as G,s as f,sa as j,u as S,ua as B,v as _,va as D,wa as R,y as w,ya as k,z as y,za as q}from"./chunk-Y4CQGUG3.js";import{Db as p,Eb as t,Fb as e,Gb as c,Rb as x,Sb as M,Ua as l,db as u,ec as o,gc as h,jb as b,yb as m,zb as s}from"./chunk-U77FWCUX.js";function X(i,n){i&1&&(t(0,"mat-error",12),o(1," El usuario es obligatorio. "),e())}function Y(i,n){i&1&&(t(0,"mat-error",12),o(1," La contrase\xF1a es obligatoria. "),e())}function Z(i,n){if(i&1&&(t(0,"div",14),o(1),e()),i&2){let r=M();l(),h(" ",r.errorMessage," ")}}var W=class i{constructor(n,r){this.fb=n;this.authService=r}loginForm;errorMessage="";ngOnInit(){this.loginForm=this.fb.group({username:["",f.required],password:["",f.required]})}onSubmit(){if(this.errorMessage="",this.loginForm.valid){let{username:n,password:r}=this.loginForm.value;this.authService.login({username:n,password:r}).subscribe({next:a=>{console.log("Login exitoso. Rediriegiendo...")},error:a=>{console.error("Login failed",a),this.errorMessage="Credenciales inv\xE1lidas. Verifica tu usuario y contrase\xF1a."}})}else this.errorMessage="Por favor, completa todos los campos obligatorios."}static \u0275fac=function(r){return new(r||i)(u(L),u(Q))};static \u0275cmp=b({type:i,selectors:[["app-login"]],decls:27,vars:5,consts:[[1,"min-h-screen","w-full","flex","flex-col","bg-neutral-100"],["color","primary",1,"w-full","flex","justify-end","shadow","px-6","py-3","bg-white","border-b","border-neutral-200"],["mat-button","","routerLink","/store",1,"flex","items-center","gap-1","text-neutral-700","hover:text-black","transition"],[1,"flex","flex-1","items-center","justify-center","px-4"],[1,"w-full","max-w-md","shadow-lg","rounded-2xl","bg-white","border","border-neutral-200"],[1,"text-center","py-3"],[1,"text-2xl","font-semibold","text-neutral-800"],[1,"flex","flex-col","gap-4",3,"ngSubmit","formGroup"],[1,"flex","flex-col","gap-4","px-4","pb-2"],[1,"w-full","block","hover:opacity-95"],[1,"text-neutral-600"],["matInput","","formControlName","username","placeholder","Tu nombre de usuario",1,"text-neutral-800"],[1,"text-sm","text-red-500"],["matInput","","type","password","formControlName","password","placeholder","Tu contrase\xF1a",1,"text-neutral-800"],[1,"text-red-500","font-medium","text-center"],[1,"flex","justify-center","pb-4"],["mat-raised-button","","color","primary","type","submit",1,"px-6","py-2","bg-blue-500","text-white","font-semibold","shadow-sm","hover:bg-blue-600","hover:shadow","transition","rounded-md","disabled:opacity-50",3,"disabled"]],template:function(r,a){if(r&1&&(t(0,"div",0)(1,"mat-toolbar",1)(2,"button",2)(3,"mat-icon"),o(4,"store"),e(),o(5," Tienda "),e()(),t(6,"div",3)(7,"mat-card",4)(8,"mat-card-header",5)(9,"mat-card-title",6),o(10," Acceso CRM Soporte "),e()(),t(11,"form",7),x("ngSubmit",function(){return a.onSubmit()}),t(12,"mat-card-content",8)(13,"mat-form-field",9)(14,"mat-label",10),o(15,"Usuario"),e(),c(16,"input",11),m(17,X,2,0,"mat-error",12),e(),t(18,"mat-form-field",9)(19,"mat-label",10),o(20,"Contrase\xF1a"),e(),c(21,"input",13),m(22,Y,2,0,"mat-error",12),e(),m(23,Z,2,1,"div",14),e(),t(24,"mat-card-actions",15)(25,"button",16),o(26," Iniciar Sesi\xF3n "),e()()()()()()),r&2){let d,g;l(11),p("formGroup",a.loginForm),l(6),s((d=a.loginForm.get("username"))!=null&&d.hasError("required")?17:-1),l(5),s((g=a.loginForm.get("password"))!=null&&g.hasError("required")?22:-1),l(),s(a.errorMessage?23:-1),l(2),p("disabled",a.loginForm.invalid)}},dependencies:[v,I,w,F,S,_,y,E,C,R,A,B,j,D,G,N,T,z,U,V,k,q,P,K,J,O,H],encapsulation:2})};export{W as a};
