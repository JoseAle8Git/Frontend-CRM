import{A as $e,B as We,a as oi,b as ri,e as pt,f as Ue,g as pi,h as vn,i as $t,j as hi,k as fi,l as yn,m as Ji,n as _i,o as Cn,p as Dn,q as ze,r as Wt,s as bi,t as wn,u as xn,v as kn,w as gi,x as Tn,y as vi,z as yi}from"./chunk-TZP7RXOU.js";import{A as en,Aa as bn,B as ci,Ba as gn,C as tn,D as di,E as ft,Ea as He,F as mi,Fa as Ve,Ga as ce,H as et,Ha as be,I as Zi,K as Ki,Ka as ui,L as an,La as je,M as nn,Ma as Ci,Na as Di,Oa as Qe,P as on,Q as rn,R as sn,T as ln,U as tt,V as _t,X as cn,c as Ga,ca as dn,d as Za,da as it,e as ai,f as ni,fa as Yi,g as re,ga as Xi,ha as mn,ia as bt,j as Ka,ja as Le,k as _e,la as te,na as se,oa as un,pa as le,q as Gi,qa as gt,r as si,ra as vt,s as pe,sa as yt,ta as pn,u as ht,ua as hn,v as Ya,va as Ct,wa as Dt,x as li,xa as fn,y as Xa,ya as Ne,z as Ja,za as _n}from"./chunk-Y4CQGUG3.js";import{$a as me,A as Xe,Aa as ja,Ab as fe,Bb as X,C as Ba,Cb as J,Db as p,Dc as Oe,E as La,Eb as r,Ec as ut,Fb as s,G as ct,Gb as y,Gc as B,Hb as ti,Hc as Be,Ib as ii,Kb as R,Lb as E,Mb as U,Nb as ne,Ob as Wi,Q as Na,R as Re,Rb as D,S as Ha,Sb as h,T as De,Tb as Fe,Ua as d,Ub as oe,Vb as ee,Wb as W,Xb as S,Yb as M,Z as K,Za as $,_ as V,_a as Je,a as ae,aa as L,ab as q,ac as Ut,b as Ea,ba as Ee,bc as Pe,ca as m,cb as jt,cc as O,db as H,dc as dt,e as Ye,ec as l,fb as Ae,fc as G,g as Ia,gc as w,ha as x,hc as xe,ia as k,ic as ke,j as Q,ja as $i,jb as C,jc as Te,k as zi,ka as Va,kb as j,l as Aa,la as Y,lb as v,lc as z,ma as ei,mb as Ua,mc as Qi,n as Vt,nb as T,nc as ue,o as Fa,ob as za,oc as zt,p as Pa,pb as _,pc as mt,qb as $a,qc as Qa,rc as qa,sa as we,w as Jt,wa as Ie,wb as Wa,xa as N,xb as A,y as Oa,yb as b,z as lt,za as P,zb as g,zc as qi}from"./chunk-U77FWCUX.js";var wt=(()=>{class t{get vertical(){return this._vertical}set vertical(e){this._vertical=Yi(e)}_vertical=!1;get inset(){return this._inset}set inset(e){this._inset=Yi(e)}_inset=!1;static \u0275fac=function(i){return new(i||t)};static \u0275cmp=C({type:t,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,a){i&2&&(A("aria-orientation",a.vertical?"vertical":"horizontal"),O("mat-divider-vertical",a.vertical)("mat-divider-horizontal",!a.vertical)("mat-divider-inset",a.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(i,a){},styles:[`.mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-sys-outline-variant));border-top-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-sys-outline-variant));border-right-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}
`],encapsulation:2,changeDetection:0})}return t})(),xt=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=j({type:t});static \u0275inj=V({imports:[te,te]})}return t})();var mo=[[["caption"]],[["colgroup"],["col"]],"*"],uo=["caption","colgroup, col","*"];function po(t,n){t&1&&oe(0,2)}function ho(t,n){t&1&&(r(0,"thead",0),U(1,1),s(),r(2,"tbody",0),U(3,2)(4,3),s(),r(5,"tfoot",0),U(6,4),s())}function fo(t,n){t&1&&U(0,1)(1,2)(2,3)(3,4)}var he=new L("CDK_TABLE");var Ti=(()=>{class t{template=m(q);constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=v({type:t,selectors:[["","cdkCellDef",""]]})}return t})(),Si=(()=>{class t{template=m(q);constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=v({type:t,selectors:[["","cdkHeaderCellDef",""]]})}return t})(),En=(()=>{class t{template=m(q);constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=v({type:t,selectors:[["","cdkFooterCellDef",""]]})}return t})(),kt=(()=>{class t{_table=m(he,{optional:!0});_hasStickyChanged=!1;get name(){return this._name}set name(e){this._setNameInput(e)}_name;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;get stickyEnd(){return this._stickyEnd}set stickyEnd(e){e!==this._stickyEnd&&(this._stickyEnd=e,this._hasStickyChanged=!0)}_stickyEnd=!1;cell;headerCell;footerCell;cssClassFriendlyName;_columnCssClassName;constructor(){}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static \u0275fac=function(i){return new(i||t)};static \u0275dir=v({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(i,a,o){if(i&1&&(ee(o,Ti,5),ee(o,Si,5),ee(o,En,5)),i&2){let c;S(c=M())&&(a.cell=c.first),S(c=M())&&(a.headerCell=c.first),S(c=M())&&(a.footerCell=c.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",B],stickyEnd:[2,"stickyEnd","stickyEnd",B]},features:[z([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}])]})}return t})(),xi=class{constructor(n,e){e.nativeElement.classList.add(...n._columnCssClassName)}},In=(()=>{class t extends xi{constructor(){super(m(kt),m(P))}static \u0275fac=function(i){return new(i||t)};static \u0275dir=v({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[T]})}return t})();var An=(()=>{class t extends xi{constructor(){let e=m(kt),i=m(P);super(e,i);let a=e._table?._getCellRole();a&&i.nativeElement.setAttribute("role",a)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=v({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[T]})}return t})();var ta=(()=>{class t{template=m(q);_differs=m(ut);columns;_columnsDiffer;constructor(){}ngOnChanges(e){if(!this._columnsDiffer){let i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof Qt?e.headerCell.template:this instanceof ia?e.footerCell.template:e.cell.template}static \u0275fac=function(i){return new(i||t)};static \u0275dir=v({type:t,features:[Ie]})}return t})(),Qt=(()=>{class t extends ta{_table=m(he,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super(m(q),m(ut))}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(i){return new(i||t)};static \u0275dir=v({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",B]},features:[T,Ie]})}return t})(),ia=(()=>{class t extends ta{_table=m(he,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super(m(q),m(ut))}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(i){return new(i||t)};static \u0275dir=v({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",B]},features:[T,Ie]})}return t})(),Mi=(()=>{class t extends ta{_table=m(he,{optional:!0});when;constructor(){super(m(q),m(ut))}static \u0275fac=function(i){return new(i||t)};static \u0275dir=v({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},features:[T]})}return t})(),at=(()=>{class t{_viewContainer=m(Ae);cells;context;static mostRecentCellOutlet=null;constructor(){t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=v({type:t,selectors:[["","cdkCellOutlet",""]]})}return t})(),aa=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=C({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,a){i&1&&U(0,0)},dependencies:[at],encapsulation:2})}return t})();var na=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=C({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,a){i&1&&U(0,0)},dependencies:[at],encapsulation:2})}return t})(),Ri=(()=>{class t{templateRef=m(q);_contentClassNames=["cdk-no-data-row","cdk-row"];_cellClassNames=["cdk-cell","cdk-no-data-cell"];_cellSelector="td, cdk-cell, [cdk-cell], .cdk-cell";constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=v({type:t,selectors:[["ng-template","cdkNoDataRow",""]]})}return t})(),Mn=["top","bottom","left","right"],ea=class{_isNativeHtmlTable;_stickCellCss;_isBrowser;_needsPositionStickyOnElement;direction;_positionListener;_tableInjector;_elemSizeCache=new WeakMap;_resizeObserver=globalThis?.ResizeObserver?new globalThis.ResizeObserver(n=>this._updateCachedSizes(n)):null;_updatedStickyColumnsParamsToReplay=[];_stickyColumnsReplayTimeout=null;_cachedCellWidths=[];_borderCellCss;_destroyed=!1;constructor(n,e,i=!0,a=!0,o,c,u){this._isNativeHtmlTable=n,this._stickCellCss=e,this._isBrowser=i,this._needsPositionStickyOnElement=a,this.direction=o,this._positionListener=c,this._tableInjector=u,this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(n,e){(e.includes("left")||e.includes("right"))&&this._removeFromStickyColumnReplayQueue(n);let i=[];for(let a of n)a.nodeType===a.ELEMENT_NODE&&i.push(a,...Array.from(a.children));me({write:()=>{for(let a of i)this._removeStickyStyle(a,e)}},{injector:this._tableInjector})}updateStickyColumns(n,e,i,a=!0,o=!0){if(!n.length||!this._isBrowser||!(e.some(de=>de)||i.some(de=>de))){this._positionListener?.stickyColumnsUpdated({sizes:[]}),this._positionListener?.stickyEndColumnsUpdated({sizes:[]});return}let c=n[0],u=c.children.length,f=this.direction==="rtl",I=f?"right":"left",Z=f?"left":"right",ye=e.lastIndexOf(!0),Ce=i.indexOf(!0),Me,Sa,Ma;o&&this._updateStickyColumnReplayQueue({rows:[...n],stickyStartStates:[...e],stickyEndStates:[...i]}),me({earlyRead:()=>{Me=this._getCellWidths(c,a),Sa=this._getStickyStartColumnPositions(Me,e),Ma=this._getStickyEndColumnPositions(Me,i)},write:()=>{for(let de of n)for(let ie=0;ie<u;ie++){let Ra=de.children[ie];e[ie]&&this._addStickyStyle(Ra,I,Sa[ie],ie===ye),i[ie]&&this._addStickyStyle(Ra,Z,Ma[ie],ie===Ce)}this._positionListener&&Me.some(de=>!!de)&&(this._positionListener.stickyColumnsUpdated({sizes:ye===-1?[]:Me.slice(0,ye+1).map((de,ie)=>e[ie]?de:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:Ce===-1?[]:Me.slice(Ce).map((de,ie)=>i[ie+Ce]?de:null).reverse()}))}},{injector:this._tableInjector})}stickRows(n,e,i){if(!this._isBrowser)return;let a=i==="bottom"?n.slice().reverse():n,o=i==="bottom"?e.slice().reverse():e,c=[],u=[],f=[];me({earlyRead:()=>{for(let I=0,Z=0;I<a.length;I++){if(!o[I])continue;c[I]=Z;let ye=a[I];f[I]=this._isNativeHtmlTable?Array.from(ye.children):[ye];let Ce=this._retrieveElementSize(ye).height;Z+=Ce,u[I]=Ce}},write:()=>{let I=o.lastIndexOf(!0);for(let Z=0;Z<a.length;Z++){if(!o[Z])continue;let ye=c[Z],Ce=Z===I;for(let Me of f[Z])this._addStickyStyle(Me,i,ye,Ce)}i==="top"?this._positionListener?.stickyHeaderRowsUpdated({sizes:u,offsets:c,elements:f}):this._positionListener?.stickyFooterRowsUpdated({sizes:u,offsets:c,elements:f})}},{injector:this._tableInjector})}updateStickyFooterContainer(n,e){this._isNativeHtmlTable&&me({write:()=>{let i=n.querySelector("tfoot");i&&(e.some(a=>!a)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1))}},{injector:this._tableInjector})}destroy(){this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._resizeObserver?.disconnect(),this._destroyed=!0}_removeStickyStyle(n,e){if(!n.classList.contains(this._stickCellCss))return;for(let a of e)n.style[a]="",n.classList.remove(this._borderCellCss[a]);Mn.some(a=>e.indexOf(a)===-1&&n.style[a])?n.style.zIndex=this._getCalculatedZIndex(n):(n.style.zIndex="",this._needsPositionStickyOnElement&&(n.style.position=""),n.classList.remove(this._stickCellCss))}_addStickyStyle(n,e,i,a){n.classList.add(this._stickCellCss),a&&n.classList.add(this._borderCellCss[e]),n.style[e]=`${i}px`,n.style.zIndex=this._getCalculatedZIndex(n),this._needsPositionStickyOnElement&&(n.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(n){let e={top:100,bottom:10,left:1,right:1},i=0;for(let a of Mn)n.style[a]&&(i+=e[a]);return i?`${i}`:""}_getCellWidths(n,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;let i=[],a=n.children;for(let o=0;o<a.length;o++){let c=a[o];i.push(this._retrieveElementSize(c).width)}return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(n,e){let i=[],a=0;for(let o=0;o<n.length;o++)e[o]&&(i[o]=a,a+=n[o]);return i}_getStickyEndColumnPositions(n,e){let i=[],a=0;for(let o=n.length;o>0;o--)e[o]&&(i[o]=a,a+=n[o]);return i}_retrieveElementSize(n){let e=this._elemSizeCache.get(n);if(e)return e;let i=n.getBoundingClientRect(),a={width:i.width,height:i.height};return this._resizeObserver&&(this._elemSizeCache.set(n,a),this._resizeObserver.observe(n,{box:"border-box"})),a}_updateStickyColumnReplayQueue(n){this._removeFromStickyColumnReplayQueue(n.rows),this._stickyColumnsReplayTimeout||this._updatedStickyColumnsParamsToReplay.push(n)}_removeFromStickyColumnReplayQueue(n){let e=new Set(n);for(let i of this._updatedStickyColumnsParamsToReplay)i.rows=i.rows.filter(a=>!e.has(a));this._updatedStickyColumnsParamsToReplay=this._updatedStickyColumnsParamsToReplay.filter(i=>!!i.rows.length)}_updateCachedSizes(n){let e=!1;for(let i of n){let a=i.borderBoxSize?.length?{width:i.borderBoxSize[0].inlineSize,height:i.borderBoxSize[0].blockSize}:{width:i.contentRect.width,height:i.contentRect.height};a.width!==this._elemSizeCache.get(i.target)?.width&&_o(i.target)&&(e=!0),this._elemSizeCache.set(i.target,a)}e&&this._updatedStickyColumnsParamsToReplay.length&&(this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._stickyColumnsReplayTimeout=setTimeout(()=>{if(!this._destroyed){for(let i of this._updatedStickyColumnsParamsToReplay)this.updateStickyColumns(i.rows,i.stickyStartStates,i.stickyEndStates,!0,!1);this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null}},0))}};function _o(t){return["cdk-cell","cdk-header-cell","cdk-footer-cell"].some(n=>t.classList.contains(n))}var ki=new L("CDK_SPL");var oa=(()=>{class t{viewContainer=m(Ae);elementRef=m(P);constructor(){let e=m(he);e._rowOutlet=this,e._outletAssigned()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=v({type:t,selectors:[["","rowOutlet",""]]})}return t})(),ra=(()=>{class t{viewContainer=m(Ae);elementRef=m(P);constructor(){let e=m(he);e._headerRowOutlet=this,e._outletAssigned()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=v({type:t,selectors:[["","headerRowOutlet",""]]})}return t})(),sa=(()=>{class t{viewContainer=m(Ae);elementRef=m(P);constructor(){let e=m(he);e._footerRowOutlet=this,e._outletAssigned()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=v({type:t,selectors:[["","footerRowOutlet",""]]})}return t})(),la=(()=>{class t{viewContainer=m(Ae);elementRef=m(P);constructor(){let e=m(he);e._noDataRowOutlet=this,e._outletAssigned()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=v({type:t,selectors:[["","noDataRowOutlet",""]]})}return t})(),ca=(()=>{class t{_differs=m(ut);_changeDetectorRef=m(Oe);_elementRef=m(P);_dir=m(Le,{optional:!0});_platform=m(et);_viewRepeater=m($t);_viewportRuler=m(fi);_stickyPositioningListener=m(ki,{optional:!0,skipSelf:!0});_document=m(ei);_data;_onDestroy=new Q;_renderRows;_renderChangeSubscription;_columnDefsByName=new Map;_rowDefs;_headerRowDefs;_footerRowDefs;_dataDiffer;_defaultRowDef;_customColumnDefs=new Set;_customRowDefs=new Set;_customHeaderRowDefs=new Set;_customFooterRowDefs=new Set;_customNoDataRow;_headerRowDefChanged=!0;_footerRowDefChanged=!0;_stickyColumnStylesNeedReset=!0;_forceRecalculateCellWidths=!0;_cachedRenderRowsMap=new Map;_isNativeHtmlTable;_stickyStyler;stickyCssClass="cdk-table-sticky";needsPositionStickyOnElement=!0;_isServer;_isShowingNoDataRow=!1;_hasAllOutlets=!1;_hasInitialized=!1;_getCellRole(){if(this._cellRoleInternal===void 0){let e=this._elementRef.nativeElement.getAttribute("role");return e==="grid"||e==="treegrid"?"gridcell":"cell"}return this._cellRoleInternal}_cellRoleInternal=void 0;get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}_trackByFn;get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}_dataSource;get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=e,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}_multiTemplateDataRows=!1;get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=e,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}_fixedLayout=!1;contentChanged=new $;viewChange=new zi({start:0,end:Number.MAX_VALUE});_rowOutlet;_headerRowOutlet;_footerRowOutlet;_noDataRowOutlet;_contentColumnDefs;_contentRowDefs;_contentHeaderRowDefs;_contentFooterRowDefs;_noDataRow;_injector=m(Y);constructor(){m(new qi("role"),{optional:!0})||this._elementRef.nativeElement.setAttribute("role","table"),this._isServer=!this._platform.isBrowser,this._isNativeHtmlTable=this._elementRef.nativeElement.nodeName==="TABLE",this._dataDiffer=this._differs.find([]).create((i,a)=>this.trackBy?this.trackBy(a.dataIndex,a.data):a)}ngOnInit(){this._setupStickyStyler(),this._viewportRuler.change().pipe(De(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){this._stickyStyler?.destroy(),[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),pi(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let e=this._dataDiffer.diff(this._renderRows);if(!e){this._updateNoDataRow(),this.contentChanged.next();return}let i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(a,o,c)=>this._getEmbeddedViewArgs(a.item,c),a=>a.item.data,a=>{a.operation===vn.INSERTED&&a.context&&this._renderCellTemplateForItem(a.record.item.rowDef,a.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(a=>{let o=i.get(a.currentIndex);o.context.$implicit=a.item.data}),this._updateNoDataRow(),this.contentChanged.next(),this.updateStickyColumnStyles()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){let e=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let a=Rn(this._headerRowOutlet,"thead");a&&(a.style.display=e.length?"":"none")}let i=this._headerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,i,"top"),this._headerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyFooterRowStyles(){let e=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let a=Rn(this._footerRowOutlet,"tfoot");a&&(a.style.display=e.length?"":"none")}let i=this._footerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,i,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,i),this._footerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyColumnStyles(){let e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),a=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...a],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,c)=>{this._addStickyColumnStyles([o],this._headerRowDefs[c])}),this._rowDefs.forEach(o=>{let c=[];for(let u=0;u<i.length;u++)this._renderRows[u].rowDef===o&&c.push(i[u]);this._addStickyColumnStyles(c,o)}),a.forEach((o,c)=>{this._addStickyColumnStyles([o],this._footerRowDefs[c])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){let e=[],i=this._cachedRenderRowsMap;if(this._cachedRenderRowsMap=new Map,!this._data)return e;for(let a=0;a<this._data.length;a++){let o=this._data[a],c=this._getRenderRowsForData(o,a,i.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let u=0;u<c.length;u++){let f=c[u],I=this._cachedRenderRowsMap.get(f.data);I.has(f.rowDef)?I.get(f.rowDef).push(f):I.set(f.rowDef,[f]),e.push(f)}}return e}_getRenderRowsForData(e,i,a){return this._getRowDefs(e,i).map(c=>{let u=a&&a.has(c)?a.get(c):[];if(u.length){let f=u.shift();return f.dataIndex=i,f}else return{data:e,rowDef:c,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),wi(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=wi(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=wi(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=wi(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let e=this._rowDefs.filter(i=>!i.when);!this.multiTemplateDataRows&&e.length>1,this._defaultRowDef=e[0]}_renderUpdatedColumns(){let e=(c,u)=>{let f=!!u.getColumnsDiff();return c||f},i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();let a=this._headerRowDefs.reduce(e,!1);a&&this._forceRenderHeaderRows();let o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),i||a||o}_switchDataSource(e){this._data=[],pi(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;pi(this.dataSource)?e=this.dataSource.connect(this):Pa(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Vt(this.dataSource)),this._renderChangeSubscription=e.pipe(De(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){let a=Array.from(i?.columns||[]).map(u=>{let f=this._columnDefsByName.get(u);return f}),o=a.map(u=>u.sticky),c=a.map(u=>u.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,c,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){let i=[];for(let a=0;a<e.viewContainer.length;a++){let o=e.viewContainer.get(a);i.push(o.rootNodes[0])}return i}_getRowDefs(e,i){if(this._rowDefs.length==1)return[this._rowDefs[0]];let a=[];if(this.multiTemplateDataRows)a=this._rowDefs.filter(o=>!o.when||o.when(i,e));else{let o=this._rowDefs.find(c=>c.when&&c.when(i,e))||this._defaultRowDef;o&&a.push(o)}return a.length,a}_getEmbeddedViewArgs(e,i){let a=e.rowDef,o={$implicit:e.data};return{templateRef:a.template,context:o,index:i}}_renderRow(e,i,a,o={}){let c=e.viewContainer.createEmbeddedView(i.template,o,a);return this._renderCellTemplateForItem(i,o),c}_renderCellTemplateForItem(e,i){for(let a of this._getCellTemplates(e))at.mostRecentCellOutlet&&at.mostRecentCellOutlet._viewContainer.createEmbeddedView(a,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let e=this._rowOutlet.viewContainer;for(let i=0,a=e.length;i<a;i++){let c=e.get(i).context;c.count=a,c.first=i===0,c.last=i===a-1,c.even=i%2===0,c.odd=!c.even,this.multiTemplateDataRows?(c.dataIndex=this._renderRows[i].dataIndex,c.renderIndex=i):c.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return!e||!e.columns?[]:Array.from(e.columns,i=>{let a=this._columnDefsByName.get(i);return e.extractCellTemplate(a)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let e=(i,a)=>i||a.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let e=this._dir?this._dir.value:"ltr";this._stickyStyler=new ea(this._isNativeHtmlTable,this.stickyCssClass,this._platform.isBrowser,this.needsPositionStickyOnElement,e,this._stickyPositioningListener,this._injector),(this._dir?this._dir.change:Vt()).pipe(De(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){let e=this._customNoDataRow||this._noDataRow;if(!e)return;let i=this._rowOutlet.viewContainer.length===0;if(i===this._isShowingNoDataRow)return;let a=this._noDataRowOutlet.viewContainer;if(i){let o=a.createEmbeddedView(e.templateRef),c=o.rootNodes[0];if(o.rootNodes.length===1&&c?.nodeType===this._document.ELEMENT_NODE){c.setAttribute("role","row"),c.classList.add(...e._contentClassNames);let u=c.querySelectorAll(e._cellSelector);for(let f=0;f<u.length;f++)u[f].classList.add(...e._cellClassNames)}}else a.clear();this._isShowingNoDataRow=i,this._changeDetectorRef.markForCheck()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=C({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(i,a,o){if(i&1&&(ee(o,Ri,5),ee(o,kt,5),ee(o,Mi,5),ee(o,Qt,5),ee(o,ia,5)),i&2){let c;S(c=M())&&(a._noDataRow=c.first),S(c=M())&&(a._contentColumnDefs=c),S(c=M())&&(a._contentRowDefs=c),S(c=M())&&(a._contentHeaderRowDefs=c),S(c=M())&&(a._contentFooterRowDefs=c)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(i,a){i&2&&O("cdk-table-fixed-layout",a.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",B],fixedLayout:[2,"fixedLayout","fixedLayout",B]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[z([{provide:he,useExisting:t},{provide:$t,useClass:yi},{provide:ki,useValue:null}])],ngContentSelectors:uo,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,a){i&1&&(Fe(mo),oe(0),oe(1,1),b(2,po,1,0),b(3,ho,7,0)(4,fo,4,0)),i&2&&(d(2),g(a._isServer?2:-1),d(),g(a._isNativeHtmlTable?3:4))},dependencies:[ra,oa,la,sa],styles:[`.cdk-table-fixed-layout{table-layout:fixed}
`],encapsulation:2})}return t})();function wi(t,n){return t.concat(Array.from(n))}function Rn(t,n){let e=n.toUpperCase(),i=t.viewContainer.element.nativeElement;for(;i;){let a=i.nodeType===1?i.nodeName:null;if(a===e)return i;if(a==="TABLE")break;i=i.parentNode}return null}var Fn=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=j({type:t});static \u0275inj=V({imports:[yn]})}return t})();var bo=[[["caption"]],[["colgroup"],["col"]],"*"],go=["caption","colgroup, col","*"];function vo(t,n){t&1&&oe(0,2)}function yo(t,n){t&1&&(r(0,"thead",0),U(1,1),s(),r(2,"tbody",2),U(3,3)(4,4),s(),r(5,"tfoot",0),U(6,5),s())}function Co(t,n){t&1&&U(0,1)(1,3)(2,4)(3,5)}var Tt=(()=>{class t extends ca{stickyCssClass="mat-mdc-table-sticky";needsPositionStickyOnElement=!1;static \u0275fac=(()=>{let e;return function(a){return(e||(e=N(t)))(a||t)}})();static \u0275cmp=C({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(i,a){i&2&&O("mdc-table-fixed-layout",a.fixedLayout)},exportAs:["matTable"],features:[z([{provide:ca,useExisting:t},{provide:he,useExisting:t},{provide:$t,useClass:yi},{provide:ki,useValue:null}]),T],ngContentSelectors:go,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,a){i&1&&(Fe(bo),oe(0),oe(1,1),b(2,vo,1,0),b(3,yo,7,0)(4,Co,4,0)),i&2&&(d(2),g(a._isServer?2:-1),d(),g(a._isNativeHtmlTable?3:4))},dependencies:[ra,oa,la,sa],styles:[`.mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:var(--mat-table-header-container-height, 56px)}mat-row{min-height:var(--mat-table-row-item-container-height, 52px)}mat-footer-row{min-height:var(--mat-table-footer-container-height, 52px)}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color, var(--mat-sys-surface))}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-header-headline-font, var(--mat-sys-title-small-font, Roboto, sans-serif));line-height:var(--mat-table-header-headline-line-height, var(--mat-sys-title-small-line-height));font-size:var(--mat-table-header-headline-size, var(--mat-sys-title-small-size, 14px));font-weight:var(--mat-table-header-headline-weight, var(--mat-sys-title-small-weight, 500))}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-row-item-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-row-item-label-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-row-item-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-footer-supporting-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-footer-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-footer-supporting-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-footer-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mat-table-footer-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking, var(--mat-sys-title-small-tracking));font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mdc-data-table__row:last-child>.mat-mdc-header-cell{border-bottom:none}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking));line-height:inherit}.mdc-data-table__row:last-child>.mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking))}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}
`],encapsulation:2})}return t})(),St=(()=>{class t extends Ti{static \u0275fac=(()=>{let e;return function(a){return(e||(e=N(t)))(a||t)}})();static \u0275dir=v({type:t,selectors:[["","matCellDef",""]],features:[z([{provide:Ti,useExisting:t}]),T]})}return t})(),Mt=(()=>{class t extends Si{static \u0275fac=(()=>{let e;return function(a){return(e||(e=N(t)))(a||t)}})();static \u0275dir=v({type:t,selectors:[["","matHeaderCellDef",""]],features:[z([{provide:Si,useExisting:t}]),T]})}return t})();var Rt=(()=>{class t extends kt{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static \u0275fac=(()=>{let e;return function(a){return(e||(e=N(t)))(a||t)}})();static \u0275dir=v({type:t,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},features:[z([{provide:kt,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),T]})}return t})(),Et=(()=>{class t extends In{static \u0275fac=(()=>{let e;return function(a){return(e||(e=N(t)))(a||t)}})();static \u0275dir=v({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[T]})}return t})();var It=(()=>{class t extends An{static \u0275fac=(()=>{let e;return function(a){return(e||(e=N(t)))(a||t)}})();static \u0275dir=v({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[T]})}return t})();var At=(()=>{class t extends Qt{static \u0275fac=(()=>{let e;return function(a){return(e||(e=N(t)))(a||t)}})();static \u0275dir=v({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",B]},features:[z([{provide:Qt,useExisting:t}]),T]})}return t})();var Ft=(()=>{class t extends Mi{static \u0275fac=(()=>{let e;return function(a){return(e||(e=N(t)))(a||t)}})();static \u0275dir=v({type:t,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},features:[z([{provide:Mi,useExisting:t}]),T]})}return t})(),Pt=(()=>{class t extends aa{static \u0275fac=(()=>{let e;return function(a){return(e||(e=N(t)))(a||t)}})();static \u0275cmp=C({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[z([{provide:aa,useExisting:t}]),T],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,a){i&1&&U(0,0)},dependencies:[at],encapsulation:2})}return t})();var Ot=(()=>{class t extends na{static \u0275fac=(()=>{let e;return function(a){return(e||(e=N(t)))(a||t)}})();static \u0275cmp=C({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[z([{provide:na,useExisting:t}]),T],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,a){i&1&&U(0,0)},dependencies:[at],encapsulation:2})}return t})(),Pn=(()=>{class t extends Ri{_cellSelector="td, mat-cell, [mat-cell], .mat-cell";constructor(){super(),this._contentClassNames.push("mat-mdc-no-data-row","mat-mdc-row","mdc-data-table__row"),this._cellClassNames.push("mat-mdc-cell","mdc-data-table__cell","mat-no-data-cell")}static \u0275fac=function(i){return new(i||t)};static \u0275dir=v({type:t,selectors:[["ng-template","matNoDataRow",""]],features:[z([{provide:Ri,useExisting:t}]),T]})}return t})();var Bt=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=j({type:t});static \u0275inj=V({imports:[te,Fn,te]})}return t})();function Do(t,n){}var qe=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;disableAnimations=!1;providers;container;templateContext};var ua=(()=>{class t extends Cn{_elementRef=m(P);_focusTrapFactory=m(sn);_config;_interactivityChecker=m(rn);_ngZone=m(Je);_focusMonitor=m(Ki);_renderer=m(jt);_changeDetectorRef=m(Oe);_injector=m(Y);_platform=m(et);_document=m(ei);_portalOutlet;_focusTrapped=new Q;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=m(qe,{optional:!0})||new qe,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let i=this._ariaLabelledByQueue.indexOf(e);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}attachDomPortal=e=>{this._portalOutlet.hasAttached();let i=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),i};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let a=()=>{o(),c(),e.removeAttribute("tabindex")},o=this._renderer.listen(e,"blur",a),c=this._renderer.listen(e,"mousedown",a)})),e.focus(i)}_focusByCssSelector(e,i){let a=this._elementRef.nativeElement.querySelector(e);a&&this._forceFocus(a,i)}_trapFocus(e){this._isDestroyed||me(()=>{let i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus(e);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(e)||this._focusDialogContainer(e);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',e);break;default:this._focusByCssSelector(this._config.autoFocus,e);break}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,i=null;if(typeof e=="string"?i=this._document.querySelector(e):typeof e=="boolean"?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&typeof i.focus=="function"){let a=mi(),o=this._elementRef.nativeElement;(!a||a===this._document.body||a===o||o.contains(a))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(e){this._elementRef.nativeElement.focus?.(e)}_containsFocus(){let e=this._elementRef.nativeElement,i=mi();return e===i||e.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=mi()))}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=C({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(i,a){if(i&1&&W(ze,7),i&2){let o;S(o=M())&&(a._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,a){i&2&&A("id",a._config.id||null)("role",a._config.role)("aria-modal",a._config.ariaModal)("aria-labelledby",a._config.ariaLabel?null:a._ariaLabelledByQueue[0])("aria-label",a._config.ariaLabel)("aria-describedby",a._config.ariaDescribedBy||null)},features:[T],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,a){i&1&&_(0,Do,0,0,"ng-template",0)},dependencies:[ze],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return t})(),qt=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new Q;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(n,e){this.overlayRef=n,this.config=e,this.disableClose=e.disableClose,this.backdropClick=n.backdropClick(),this.keydownEvents=n.keydownEvents(),this.outsidePointerEvents=n.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!_t(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{!this.disableClose&&this._canClose()?this.close(void 0,{focusOrigin:"mouse"}):this.containerInstance._recaptureFocus?.()}),this._detachSubscription=n.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(n,e){if(this._canClose(n)){let i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(n),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(n="",e=""){return this.overlayRef.updateSize({width:n,height:e}),this}addPanelClass(n){return this.overlayRef.addPanelClass(n),this}removePanelClass(n){return this.overlayRef.removePanelClass(n),this}_canClose(n){let e=this.config;return!!this.containerInstance&&(!e.closePredicate||e.closePredicate(n,e,this.componentInstance))}},wo=new L("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=m(Y);return()=>bi(t)}}),xo=new L("DialogData"),ko=new L("DefaultDialogConfig");function To(t){let n=we(t),e=new $;return{valueSignal:n,get value(){return n()},change:e,ngOnDestroy(){e.complete()}}}var pa=(()=>{class t{_injector=m(Y);_defaultOptions=m(ko,{optional:!0});_parentDialog=m(t,{optional:!0,skipSelf:!0});_overlayContainer=m(xn);_idGenerator=m(tt);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new Q;_afterOpenedAtThisLevel=new Q;_ariaHiddenElements=new Map;_scrollStrategy=m(wo);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=Jt(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Re(void 0)));constructor(){}open(e,i){let a=this._defaultOptions||new qe;i=ae(ae({},a),i),i.id=i.id||this._idGenerator.getId("cdk-dialog-"),i.id&&this.getDialogById(i.id);let o=this._getOverlayConfig(i),c=Tn(this._injector,o),u=new qt(c,i),f=this._attachContainer(c,u,i);if(u.containerInstance=f,!this.openDialogs.length){let I=this._overlayContainer.getContainerElement();f._focusTrapped?f._focusTrapped.pipe(ct(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(I)}):this._hideNonDialogContentFromAssistiveTechnology(I)}return this._attachDialogContent(e,u,f,i),this.openDialogs.push(u),u.closed.subscribe(()=>this._removeOpenDialog(u,!0)),this.afterOpened.next(u),u}closeAll(){ma(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){ma(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),ma(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let i=new wn({positionStrategy:e.positionStrategy||gi().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation,disableAnimations:e.disableAnimations});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,a){let o=a.injector||a.viewContainerRef?.injector,c=[{provide:qe,useValue:a},{provide:qt,useValue:i},{provide:kn,useValue:e}],u;a.container?typeof a.container=="function"?u=a.container:(u=a.container.type,c.push(...a.container.providers(a))):u=ua;let f=new Ji(u,a.viewContainerRef,Y.create({parent:o||this._injector,providers:c}));return e.attach(f).instance}_attachDialogContent(e,i,a,o){if(e instanceof q){let c=this._createInjector(o,i,a,void 0),u={$implicit:o.data,dialogRef:i};o.templateContext&&(u=ae(ae({},u),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),a.attachTemplatePortal(new _i(e,null,u,c))}else{let c=this._createInjector(o,i,a,this._injector),u=a.attachComponentPortal(new Ji(e,o.viewContainerRef,c));i.componentRef=u,i.componentInstance=u.instance}}_createInjector(e,i,a,o){let c=e.injector||e.viewContainerRef?.injector,u=[{provide:xo,useValue:e.data},{provide:qt,useValue:i}];return e.providers&&(typeof e.providers=="function"?u.push(...e.providers(i,e,a)):u.push(...e.providers)),e.direction&&(!c||!c.get(Le,null,{optional:!0}))&&u.push({provide:Le,useValue:To(e.direction)}),Y.create({parent:c||o,providers:u})}_removeOpenDialog(e,i){let a=this.openDialogs.indexOf(e);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,c)=>{o?c.setAttribute("aria-hidden",o):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(e){if(e.parentElement){let i=e.parentElement.children;for(let a=i.length-1;a>-1;a--){let o=i[a];o!==e&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(i){return new(i||t)};static \u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ma(t,n){let e=t.length;for(;e--;)n(t[e])}var Bn=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=j({type:t});static \u0275inj=V({providers:[pa],imports:[vi,Wt,ln,Wt]})}return t})();function So(t,n){}var Zt=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;enterAnimationDuration;exitAnimationDuration},ha="mdc-dialog--open",Ln="mdc-dialog--opening",Nn="mdc-dialog--closing",Mo=150,Ro=75,jn=(()=>{class t extends ua{_animationStateChanged=new $;_animationsEnabled=!it();_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?Vn(this._config.enterAnimationDuration)??Mo:0;_exitAnimationDuration=this._animationsEnabled?Vn(this._config.exitAnimationDuration)??Ro:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Hn,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Ln,ha)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(ha),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(ha),this._animationsEnabled?(this._hostElement.style.setProperty(Hn,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Nn)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(Ln,Nn)}_waitForAnimationToComplete(e,i){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let i=super.attachComponentPortal(e);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static \u0275fac=(()=>{let e;return function(a){return(e||(e=N(t)))(a||t)}})();static \u0275cmp=C({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,a){i&2&&(Wi("id",a._config.id),A("aria-modal",a._config.ariaModal)("role",a._config.role)("aria-labelledby",a._config.ariaLabel?null:a._ariaLabelledByQueue[0])("aria-label",a._config.ariaLabel)("aria-describedby",a._config.ariaDescribedBy||null),O("_mat-animation-noopable",!a._animationsEnabled)("mat-mdc-dialog-container-with-actions",a._actionSectionCount>0))},features:[T],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,a){i&1&&(r(0,"div",0)(1,"div",1),_(2,So,0,0,"ng-template",2),s()())},dependencies:[ze],styles:[`.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mat-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mat-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mat-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mat-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mat-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mat-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mat-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mat-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mat-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mat-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mat-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mat-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mat-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;box-sizing:border-box;min-height:52px;margin:0;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}
`],encapsulation:2})}return t})(),Hn="--mat-dialog-transition-duration";function Vn(t){return t==null?null:typeof t=="number"?t:t.endsWith("ms")?Zi(t.substring(0,t.length-2)):t.endsWith("s")?Zi(t.substring(0,t.length-1))*1e3:t==="0"?0:null}var Gt=(function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t})(Gt||{}),ge=class{_ref;_config;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new Q;_beforeClosed=new Q;_result;_closeFallbackTimeout;_state=Gt.OPEN;_closeInteractionType;constructor(n,e,i){this._ref=n,this._config=e,this._containerInstance=i,this.disableClose=e.disableClose,this.id=n.id,n.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(Xe(a=>a.state==="opened"),ct(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Xe(a=>a.state==="closed"),ct(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),n.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),lt(this.backdropClick(),this.keydownEvents().pipe(Xe(a=>a.keyCode===27&&!this.disableClose&&!_t(a)))).subscribe(a=>{this.disableClose||(a.preventDefault(),fa(this,a.type==="keydown"?"keyboard":"mouse"))})}close(n){let e=this._config.closePredicate;e&&!e(n,this._config,this.componentInstance)||(this._result=n,this._containerInstance._animationStateChanged.pipe(Xe(i=>i.state==="closing"),ct(1)).subscribe(i=>{this._beforeClosed.next(n),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),i.totalTime+100)}),this._state=Gt.CLOSING,this._containerInstance._startExitAnimation())}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(n){let e=this._ref.config.positionStrategy;return n&&(n.left||n.right)?n.left?e.left(n.left):e.right(n.right):e.centerHorizontally(),n&&(n.top||n.bottom)?n.top?e.top(n.top):e.bottom(n.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(n="",e=""){return this._ref.updateSize(n,e),this}addPanelClass(n){return this._ref.addPanelClass(n),this}removePanelClass(n){return this._ref.removePanelClass(n),this}getState(){return this._state}_finishDialogClose(){this._state=Gt.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function fa(t,n,e){return t._closeInteractionType=n,t.close(e)}var Lt=new L("MatMdcDialogData"),Un=new L("mat-mdc-dialog-default-options"),zn=new L("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let t=m(Y);return()=>bi(t)}}),ve=(()=>{class t{_defaultOptions=m(Un,{optional:!0});_scrollStrategy=m(zn);_parentDialog=m(t,{optional:!0,skipSelf:!0});_idGenerator=m(tt);_injector=m(Y);_dialog=m(pa);_animationsDisabled=it();_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new Q;_afterOpenedAtThisLevel=new Q;dialogConfigClass=Zt;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=Jt(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Re(void 0)));constructor(){this._dialogRefConstructor=ge,this._dialogContainerType=jn,this._dialogDataToken=Lt}open(e,i){let a;i=ae(ae({},this._defaultOptions||new Zt),i),i.id=i.id||this._idGenerator.getId("mat-mdc-dialog-"),i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(e,Ea(ae({},i),{positionStrategy:gi(this._injector).centerHorizontally().centerVertically(),disableClose:!0,closePredicate:void 0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,disableAnimations:this._animationsDisabled||i.enterAnimationDuration?.toLocaleString()==="0"||i.exitAnimationDuration?.toString()==="0",container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:qe,useValue:i}]},templateContext:()=>({dialogRef:a}),providers:(c,u,f)=>(a=new this._dialogRefConstructor(c,i,f),a.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:f},{provide:this._dialogDataToken,useValue:u.data},{provide:this._dialogRefConstructor,useValue:a}])}));return a.componentRef=o.componentRef,a.componentInstance=o.componentInstance,this.openDialogs.push(a),this.afterOpened.next(a),a.afterClosed().subscribe(()=>{let c=this.openDialogs.indexOf(a);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||this._getAfterAllClosed().next())}),a}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Kt=(()=>{class t{dialogRef=m(ge,{optional:!0});_elementRef=m(P);_dialog=m(ve);ariaLabel;type="button";dialogResult;_matDialogClose;constructor(){}ngOnInit(){this.dialogRef||(this.dialogRef=Wn(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){let i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){fa(this.dialogRef,e.screenX===0&&e.screenY===0?"keyboard":"mouse",this.dialogResult)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=v({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(i,a){i&1&&D("click",function(c){return a._onButtonClick(c)}),i&2&&A("aria-label",a.ariaLabel||null)("type",a.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[Ie]})}return t})(),$n=(()=>{class t{_dialogRef=m(ge,{optional:!0});_elementRef=m(P);_dialog=m(ve);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=Wn(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(i){return new(i||t)};static \u0275dir=v({type:t})}return t})(),nt=(()=>{class t extends $n{id=m(tt).getId("mat-mdc-dialog-title-");_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static \u0275fac=(()=>{let e;return function(a){return(e||(e=N(t)))(a||t)}})();static \u0275dir=v({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,a){i&2&&Wi("id",a.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],features:[T]})}return t})(),ot=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=v({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[za([hi])]})}return t})(),rt=(()=>{class t extends $n{align;_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static \u0275fac=(()=>{let e;return function(a){return(e||(e=N(t)))(a||t)}})();static \u0275dir=v({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(i,a){i&2&&O("mat-mdc-dialog-actions-align-start",a.align==="start")("mat-mdc-dialog-actions-align-center",a.align==="center")("mat-mdc-dialog-actions-align-end",a.align==="end")},inputs:{align:"align"},features:[T]})}return t})();function Wn(t,n){let e=t.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?n.find(i=>i.id===e.id):null}var Se=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=j({type:t});static \u0275inj=V({providers:[ve],imports:[Bn,vi,Wt,te,te]})}return t})();var Nt="http://localhost:8080/sistema/api/v1/users",Ge=class t{constructor(n){this.http=n}createNewUser(n){return this.http.post(Nt,n,{withCredentials:!0})}getAllBasicUsers(){return this.http.get(`${Nt}/basic-list`,{withCredentials:!0})}getUserById(n){return this.http.get(`${Nt}/${n}`,{withCredentials:!0})}updateUser(n,e){return this.http.put(`${Nt}/${n}`,e,{withCredentials:!0})}deleteUser(n){return this.http.delete(`${Nt}/${n}`,{withCredentials:!0})}getAllClients(n,e){let i=new Ka;return n!==void 0&&(i=i.set("activeFilter",n.toString())),e&&(i=i.set("packageFilter",e)),this.http.get(`${Nt}/clients-list`,{withCredentials:!0})}static \u0275fac=function(e){return new(e||t)(Ee(_e))};static \u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})};function Eo(t,n){t&1&&(r(0,"mat-error"),l(1,"El nombre es obligatorio."),s())}function Io(t,n){t&1&&(r(0,"mat-error"),l(1,"El email es obligatorio."),s())}function Ao(t,n){t&1&&(r(0,"mat-error"),l(1,"Formato de correo inv\xE1lido."),s())}function Fo(t,n){if(t&1&&(r(0,"mat-option",8),l(1),s()),t&2){let e=n.$implicit;p("value",e),d(),G(e)}}function Po(t,n){t&1&&(r(0,"mat-error"),l(1,"El rol es obligatorio."),s())}function Oo(t,n){t&1&&(r(0,"mat-error"),l(1,"El nombre de usuario es obligatorio."),s())}function Bo(t,n){t&1&&(r(0,"mat-error"),l(1,"El nombre de la empresa es obligatorio."),s())}function Lo(t,n){t&1&&(r(0,"mat-error"),l(1,"El CIF/NIF es obligatorio para clientes."),s())}function No(t,n){if(t&1&&(r(0,"mat-option",8),l(1),s()),t&2){let e=n.$implicit;p("value",e),d(),G(e)}}function Ho(t,n){t&1&&(r(0,"mat-error"),l(1,"El paquete de servicio es obligatorio."),s())}function Vo(t,n){if(t&1&&(r(0,"div",13)(1,"h3"),l(2,"Datos de la Empresa (Cliente)"),s(),r(3,"mat-form-field",3)(4,"mat-label"),l(5,"Nombre de la Empresa"),s(),y(6,"input",18),b(7,Bo,2,0,"mat-error"),s(),r(8,"mat-form-field",3)(9,"mat-label"),l(10,"CIF / NIF"),s(),y(11,"input",19),b(12,Lo,2,0,"mat-error"),s(),r(13,"mat-form-field",3)(14,"mat-label"),l(15,"Paquete de Servicio Contratado"),s(),r(16,"mat-select",20),X(17,No,2,2,"mat-option",8,fe),s(),b(19,Ho,2,0,"mat-error"),s()()),t&2){let e,i,a,o=h();d(7),g((e=o.userForm.get("companyName"))!=null&&e.hasError("required")&&((e=o.userForm.get("companyName"))!=null&&e.touched)?7:-1),d(5),g((i=o.userForm.get("cif"))!=null&&i.hasError("required")&&((i=o.userForm.get("cif"))!=null&&i.touched)?12:-1),d(5),J(o.servicePackages),d(2),g((a=o.userForm.get("packageName"))!=null&&a.hasError("required")&&((a=o.userForm.get("packageName"))!=null&&a.touched)?19:-1)}}function jo(t,n){if(t&1&&(r(0,"div",14),l(1),s()),t&2){let e=h();d(),G(e.submissionError)}}function Uo(t,n){t&1&&l(0," Creando... ")}function zo(t,n){t&1&&l(0," Crear Usuario ")}var Ze=class t{constructor(n,e,i,a){this.fb=n;this.dialogRef=e;this.userService=i;this.data=a}userForm;creatableRoles=["TECH","CLIENT"];servicePackages=["Plan Esencial","Plan Profesional","Plan Corporativo"];isLoading=!1;submissionError=null;defaultPassword="Pass123!@#";isEditMode=!1;ngOnInit(){this.userForm=this.fb.group({username:["",pe.required],name:["",pe.required],email:["",[pe.required,pe.email]],telephone:[""],roleName:["",pe.required],companyName:[""],packageName:[""],cif:["",pe.required],rawPassword:[this.defaultPassword,[pe.required]]}),this.data&&this.data.userId&&(this.isEditMode=!0,this.userService.getUserById(this.data.userId).subscribe(n=>{this.userForm.patchValue(n),this.userForm.get("username")?.disable()})),this.userForm.get("roleName")?.valueChanges.subscribe(n=>{this.toggleClientFields(n)})}toggleClientFields(n){let e=this.userForm.get("cif"),i=this.userForm.get("companyName"),a=this.userForm.get("packageName");n==="CLIENT"?(e?.setValidators(pe.required),i?.setValidators(pe.required),a?.setValidators(pe.required)):(e?.clearValidators(),i?.clearValidators(),a?.clearValidators(),e?.setValue(null),i?.setValue(""),a?.setValue("")),e?.updateValueAndValidity(),i?.updateValueAndValidity(),a?.updateValueAndValidity()}onSubmit(){if(this.submissionError=null,this.userForm.invalid){this.userForm.markAllAsTouched();return}this.isLoading=!0;let n=this.userForm.getRawValue(),e;this.isEditMode?e=this.userService.updateUser(this.data.userId,n):e=this.userService.createNewUser(n),e.pipe(Ba(i=>(this.submissionError="Error"+(i.error||"No se pudo guardar el servicio."),Fa(()=>i)))).subscribe({next:()=>{this.dialogRef.close(!0)},error:()=>{this.isLoading=!1}})}onCancel(){this.dialogRef.close(!1)}static \u0275fac=function(e){return new(e||t)(H(tn),H(ge),H(Ge),H(Lt))};static \u0275cmp=C({type:t,selectors:[["app-user-create-dialog"]],decls:53,vars:11,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"form-grid",3,"ngSubmit","formGroup"],[1,"full-width"],["matInput","","formControlName","name","required",""],["matInput","","formControlName","email","type","email","required",""],["matInput","","formControlName","telephone"],["formControlName","roleName","required",""],[3,"value"],[2,"margin","20px 0"],["matInput","","formControlName","username","required",""],["matInput","","formControlName","rawPassword"],["matSuffix","","color","warn"],[1,"client-data-group"],[1,"error-message"],["mat-dialog-actions","","align","end"],["mat-button","",3,"click","disabled"],["mat-raised-button","","color","primary","type","submit",3,"click","disabled"],["matInput","","formControlName","companyName","required",""],["matInput","","formControlName","cif","required",""],["formControlName","packageName","required",""]],template:function(e,i){if(e&1&&(r(0,"h1",0),l(1,"A\xF1adir Nuevo Usuario al CRM"),s(),r(2,"div",1)(3,"form",2),D("ngSubmit",function(){return i.onSubmit()}),r(4,"mat-form-field",3)(5,"mat-label"),l(6,"Nombre Completo"),s(),y(7,"input",4),b(8,Eo,2,0,"mat-error"),s(),r(9,"mat-form-field",3)(10,"mat-label"),l(11,"Correo Electr\xF3nico"),s(),y(12,"input",5),b(13,Io,2,0,"mat-error"),b(14,Ao,2,0,"mat-error"),s(),r(15,"mat-form-field",3)(16,"mat-label"),l(17,"Tel\xE9fono"),s(),y(18,"input",6),s(),r(19,"mat-form-field",3)(20,"mat-label"),l(21,"Asignar Rol"),s(),r(22,"mat-select",7),X(23,Fo,2,2,"mat-option",8,fe),s(),b(25,Po,2,0,"mat-error"),s(),y(26,"mat-divider",9),r(27,"mat-form-field",3)(28,"mat-label"),l(29,"Nombre de Usuario"),s(),y(30,"input",10),b(31,Oo,2,0,"mat-error"),s(),r(32,"mat-form-field",3)(33,"mat-label"),l(34,"Contrase\xF1a Temporal"),s(),y(35,"input",11),r(36,"mat-icon",12),l(37,"lock"),s(),r(38,"mat-hint"),l(39,"Se enviar\xE1 por correo al usuario. La pol\xEDtica exige may\xFAscula, min\xFAscula, n\xFAmero y s\xEDmbolo."),s()(),y(40,"mat-divider",9),b(41,Vo,20,3,"div",13),s(),b(42,jo,2,1,"div",14),s(),r(43,"div",15)(44,"button",16),D("click",function(){return i.onCancel()}),r(45,"mat-icon"),l(46,"close"),s(),l(47," Cancelar "),s(),r(48,"button",17),D("click",function(){return i.onSubmit()}),r(49,"mat-icon"),l(50,"person_add"),s(),b(51,Uo,1,0)(52,zo,1,0),s()()),e&2){let a,o,c,u,f,I;d(3),p("formGroup",i.userForm),d(5),g((a=i.userForm.get("name"))!=null&&a.hasError("required")&&((a=i.userForm.get("name"))!=null&&a.touched)?8:-1),d(5),g((o=i.userForm.get("email"))!=null&&o.hasError("required")&&((o=i.userForm.get("email"))!=null&&o.touched)?13:-1),d(),g((c=i.userForm.get("email"))!=null&&c.hasError("email")?14:-1),d(9),J(i.creatableRoles),d(2),g((u=i.userForm.get("roleName"))!=null&&u.hasError("required")&&((u=i.userForm.get("roleName"))!=null&&u.touched)?25:-1),d(6),g((f=i.userForm.get("username"))!=null&&f.hasError("required")&&((f=i.userForm.get("username"))!=null&&f.touched)?31:-1),d(10),g(((I=i.userForm.get("roleName"))==null?null:I.value)==="CLIENT"?41:-1),d(),g(i.submissionError?42:-1),d(2),p("disabled",i.isLoading),d(4),p("disabled",i.userForm.invalid||i.isLoading),d(3),g(i.isLoading?51:52)}},dependencies:[re,ft,Xa,si,ht,Ya,ci,Ja,en,Se,nt,rt,ot,le,se,Ve,He,Ne,bn,_n,gn,je,ui,We,$e,Ue,be,ce,wt],encapsulation:2})};var $o=["determinateSpinner"];function Wo(t,n){if(t&1&&($i(),r(0,"svg",11),y(1,"circle",12),s()),t&2){let e=h();A("viewBox",e._viewBox()),d(),Pe("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),A("r",e._circleRadius())}}var Qo=new L("mat-progress-spinner-default-options",{providedIn:"root",factory:qo});function qo(){return{diameter:qn}}var qn=100,Go=10,Gn=(()=>{class t{_elementRef=m(P);_noopAnimations;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";_determinateCircle;constructor(){let e=m(Qo),i=dn(),a=this._elementRef.nativeElement;this._noopAnimations=i==="di-disabled"&&!!e&&!e._forceAnimations,this.mode=a.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",!this._noopAnimations&&i==="reduced-motion"&&a.classList.add("mat-progress-spinner-reduced-motion"),e&&(e.color&&(this.color=this._defaultColor=e.color),e.diameter&&(this.diameter=e.diameter),e.strokeWidth&&(this.strokeWidth=e.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}_value=0;get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}_diameter=qn;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_strokeWidth;_circleRadius(){return(this.diameter-Go)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=C({type:t,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(i,a){if(i&1&&W($o,5),i&2){let o;S(o=M())&&(a._determinateCircle=o.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(i,a){i&2&&(A("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",a.mode==="determinate"?a.value:null)("mode",a.mode),dt("mat-"+a.color),Pe("width",a.diameter,"px")("height",a.diameter,"px")("--mat-progress-spinner-size",a.diameter+"px")("--mat-progress-spinner-active-indicator-width",a.diameter+"px"),O("_mat-animation-noopable",a._noopAnimations)("mdc-circular-progress--indeterminate",a.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",Be],diameter:[2,"diameter","diameter",Be],strokeWidth:[2,"strokeWidth","strokeWidth",Be]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(i,a){if(i&1&&(_(0,Wo,2,8,"ng-template",null,0,qa),r(2,"div",2,1),$i(),r(4,"svg",3),y(5,"circle",4),s()(),Va(),r(6,"div",5)(7,"div",6)(8,"div",7),U(9,8),s(),r(10,"div",9),U(11,8),s(),r(12,"div",10),U(13,8),s()()()),i&2){let o=Ut(1);d(4),A("viewBox",a._viewBox()),d(),Pe("stroke-dasharray",a._strokeCircumference(),"px")("stroke-dashoffset",a._strokeDashOffset(),"px")("stroke-width",a._circleStrokeWidth(),"%"),A("r",a._circleRadius()),d(4),p("ngTemplateOutlet",o),d(2),p("ngTemplateOutlet",o),d(2),p("ngTemplateOutlet",o)}},dependencies:[Ga],styles:[`.mat-mdc-progress-spinner{--mat-progress-spinner-animation-multiplier: 1;display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mat-progress-spinner-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mat-progress-spinner-reduced-motion{--mat-progress-spinner-animation-multiplier: 1.25}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate calc(1568.2352941176ms*var(--mat-progress-spinner-animation-multiplier)) linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mat-progress-spinner-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate calc(5332ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}
`],encapsulation:2,changeDetection:0})}return t})();var Zn=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=j({type:t});static \u0275inj=V({imports:[te]})}return t})();var ya="http://localhost:8080/sistema/api/v1/stats",Ht=class t{constructor(n){this.http=n}getIncidenceCountsByTechnician(){return this.http.get(`${ya}/incidences-by-tech`,{withCredentials:!0})}getProjectedMonthlyRevenue(){return this.http.get(`${ya}/revenue`,{withCredentials:!0})}getActiveCountsByPackage(){return this.http.get(`${ya}/package-counts`,{withCredentials:!0})}static \u0275fac=function(e){return new(e||t)(Ee(_e))};static \u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})};var Yn="http://localhost:8080/sistema/api/v1/reports",Ii=class t{constructor(n){this.http=n}getReportLogs(){return this.http.get(`${Yn}/logs`,{withCredentials:!0})}getDownloadUrl(n){return`${Yn}/${n}/download`}static \u0275fac=function(e){return new(e||t)(Ee(_e))};static \u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})};function er(t,n){t&1&&(r(0,"div",3),y(1,"mat-spinner",5),r(2,"p",6),l(3,"Cargando datos del administrador..."),s()())}function tr(t,n){if(t&1&&y(0,"canvas",14),t&2){let e=h(2);p("options",e.pieChartOptions)("data",e.pieChartData)("type",e.pieChartType)}}function ir(t,n){t&1&&(r(0,"p",15),l(1," No hay datos de paquetes activos para mostrar. "),s())}function ar(t,n){t&1&&(r(0,"th",40),l(1," Acciones "),s())}function nr(t,n){if(t&1){let e=ne();r(0,"td",41)(1,"button",42),D("click",function(){let a=x(e).$implicit,o=h(4);return k(o.openEditUserDialog(a.id))}),r(2,"mat-icon"),l(3,"edit"),s()(),r(4,"button",43),D("click",function(){let a=x(e).$implicit,o=h(4);return k(o.confirmDelete(a.id,a.username))}),r(5,"mat-icon"),l(6,"delete"),s()()()}}function or(t,n){t&1&&(R(0,37),_(1,ar,2,0,"th",38)(2,nr,7,0,"td",39),E())}function rr(t,n){if(t&1&&(r(0,"th",40),l(1),ue(2,"titlecase"),s()),t&2){let e=h(2).$implicit;d(),w(" ",zt(2,1,e)," ")}}function sr(t,n){if(t&1&&(r(0,"td",44),l(1),s()),t&2){let e=n.$implicit,i=h(2).$implicit;d(),w(" ",e[i]," ")}}function lr(t,n){if(t&1&&(R(0,30),_(1,rr,3,3,"th",38)(2,sr,2,1,"td",34),E()),t&2){let e=h().$implicit;p("matColumnDef",e)}}function cr(t,n){if(t&1&&b(0,or,3,0,"ng-container",37)(1,lr,3,1,"ng-container",30),t&2){let e=n.$implicit;g(e==="actions"?0:1)}}function dr(t,n){t&1&&y(0,"tr",45)}function mr(t,n){t&1&&y(0,"tr",46)}function ur(t,n){if(t&1&&(r(0,"tr")(1,"td",47),l(2," No se encontraron usuarios. "),s()()),t&2){let e=h(2);d(),A("colspan",e.userDisplayedColumns.length)}}function pr(t,n){if(t&1&&(r(0,"mat-option",29),l(1),s()),t&2){let e=n.$implicit;p("value",e),d(),G(e)}}function hr(t,n){t&1&&l(0," CIF ")}function fr(t,n){t&1&&l(0," Paquete ")}function _r(t,n){t&1&&l(0," Nombre ")}function br(t,n){t&1&&l(0," Direcci\xF3n ")}function gr(t,n){t&1&&l(0," Activo ")}function vr(t,n){if(t&1&&(l(0),ue(1,"titlecase")),t&2){let e=h(2).$implicit;w(" ",zt(1,1,e)," ")}}function yr(t,n){if(t&1&&(r(0,"th",40),b(1,hr,1,0)(2,fr,1,0)(3,_r,1,0)(4,br,1,0)(5,gr,1,0)(6,vr,2,3),s()),t&2){let e=h().$implicit;d(),g(e==="cif"?1:e==="servicePackage"?2:e==="companyName"?3:e==="direction"?4:e==="active"?5:6)}}function Cr(t,n){if(t&1&&(r(0,"mat-icon",48),l(1),s()),t&2){let e=h().$implicit;p("color",e.active?"primary":"warn"),d(),w(" ",e.active?"check_circle":"cancel"," ")}}function Dr(t,n){if(t&1&&l(0),t&2){let e=h().$implicit,i=h().$implicit;w(" ",e[i]||"\u2014"," ")}}function wr(t,n){if(t&1&&(r(0,"td",44),b(1,Cr,2,2,"mat-icon",48)(2,Dr,1,1),s()),t&2){let e=h().$implicit;d(),g(e==="active"?1:2)}}function xr(t,n){if(t&1&&(R(0,30),_(1,yr,7,1,"th",38)(2,wr,3,1,"td",34),E()),t&2){let e=n.$implicit;p("matColumnDef",e)}}function kr(t,n){t&1&&y(0,"tr",45)}function Tr(t,n){t&1&&y(0,"tr",46)}function Sr(t,n){if(t&1&&(r(0,"tr")(1,"td",47),l(2," No se encontraron clientes con los filtros aplicados. "),s()()),t&2){let e=h(2);d(),A("colspan",e.clientDisplayedColumns.length)}}function Mr(t,n){t&1&&(r(0,"th",49),l(1," Fecha de Generaci\xF3n "),s())}function Rr(t,n){if(t&1&&(r(0,"td",44),l(1),ue(2,"date"),s()),t&2){let e=n.$implicit;d(),w(" ",mt(2,1,e.generationDate,"medium")," ")}}function Er(t,n){t&1&&(r(0,"th",49),l(1," Tipo "),s())}function Ir(t,n){if(t&1&&(r(0,"td",44),l(1),s()),t&2){let e=n.$implicit;d(),w(" ",e.reportType," ")}}function Ar(t,n){t&1&&(r(0,"th",49),l(1," Email Enviado "),s())}function Fr(t,n){if(t&1&&(r(0,"td",44)(1,"mat-icon",48),l(2),s()()),t&2){let e=n.$implicit;d(),p("color",e.emailSent?"primary":"warn"),d(),w(" ",e.emailSent?"check_circle":"warning"," ")}}function Pr(t,n){t&1&&(r(0,"th",49),l(1,"Acciones"),s())}function Or(t,n){if(t&1){let e=ne();r(0,"td",44)(1,"button",50),D("click",function(){let a=x(e).$implicit,o=h(2);return k(o.openPdf(a.id))}),r(2,"mat-icon"),l(3,"picture_as_pdf"),s()()()}}function Br(t,n){t&1&&y(0,"tr",45)}function Lr(t,n){t&1&&y(0,"tr",46)}function Nr(t,n){if(t&1&&(r(0,"tr")(1,"td",47),l(2," No se han generado reportes a\xFAn. "),s()()),t&2){let e=h(2);d(),A("colspan",e.reportLogDisplayedColumns.length)}}function Hr(t,n){if(t&1){let e=ne();r(0,"div",4)(1,"div",7)(2,"mat-card",8)(3,"mat-card-header")(4,"mat-card-title",9),l(5,"Ingreso Mensual Proyectado"),s()(),r(6,"mat-card-content")(7,"h2",10),l(8),ue(9,"currency"),s()()()(),r(10,"div",11)(11,"mat-card",12)(12,"mat-card-header")(13,"mat-card-title",9),l(14,"Clientes Activos por Paquete"),s()(),r(15,"mat-card-content",13),b(16,tr,1,3,"canvas",14)(17,ir,2,0,"p",15),s()(),r(18,"mat-card",16)(19,"mat-card-header",17)(20,"mat-card-title",18),l(21," Gesti\xF3n de Usuarios "),s(),r(22,"button",19),D("click",function(){x(e);let a=h();return k(a.openCreateUserDialog())}),r(23,"mat-icon"),l(24,"person_add"),s(),l(25," Crear Usuario "),s()(),r(26,"mat-card-content")(27,"div",20)(28,"table",21),X(29,cr,2,1,null,null,fe),_(31,dr,1,0,"tr",22)(32,mr,1,0,"tr",23),b(33,ur,3,1,"tr"),s()()()()(),y(34,"mat-divider"),r(35,"mat-card",24)(36,"mat-card-header")(37,"mat-card-title",18),l(38," Gesti\xF3n y Listado de Clientes "),s()(),r(39,"mat-card-content",25)(40,"div",26)(41,"mat-form-field",27)(42,"mat-label"),l(43,"Filtrar por Paquete"),s(),r(44,"mat-select",28),Te("ngModelChange",function(a){x(e);let o=h();return ke(o.packageFilter,a)||(o.packageFilter=a),k(a)}),D("selectionChange",function(){x(e);let a=h();return k(a.applyClientFilters())}),r(45,"mat-option",29),l(46,"Todos los Paquetes"),s(),X(47,pr,2,2,"mat-option",29,fe),s()(),r(49,"mat-form-field",27)(50,"mat-label"),l(51,"Filtrar por Estado"),s(),r(52,"mat-select",28),Te("ngModelChange",function(a){x(e);let o=h();return ke(o.activeFilter,a)||(o.activeFilter=a),k(a)}),D("selectionChange",function(){x(e);let a=h();return k(a.applyClientFilters())}),r(53,"mat-option",29),l(54,"Todos"),s(),r(55,"mat-option",29),l(56,"Activo"),s(),r(57,"mat-option",29),l(58,"Inactivo"),s()()()(),r(59,"div",20)(60,"table",21),X(61,xr,3,1,"ng-container",30,fe),_(63,kr,1,0,"tr",22)(64,Tr,1,0,"tr",23),b(65,Sr,3,1,"tr"),s()()()(),r(66,"mat-card",31)(67,"mat-card-header")(68,"mat-card-title",18),l(69," Historial de Reportes Peri\xF3dicos (PDF) "),s()(),r(70,"mat-card-content")(71,"div",20)(72,"table",21),R(73,32),_(74,Mr,2,0,"th",33)(75,Rr,3,4,"td",34),E(),R(76,35),_(77,Er,2,0,"th",33)(78,Ir,2,1,"td",34),E(),R(79,36),_(80,Ar,2,0,"th",33)(81,Fr,3,2,"td",34),E(),R(82,37),_(83,Pr,2,0,"th",33)(84,Or,4,0,"td",34),E(),_(85,Br,1,0,"tr",22)(86,Lr,1,0,"tr",23),b(87,Nr,3,1,"tr"),s()()()()()}if(t&2){let e=h();d(8),w(" ",Qa(9,20,e.proyectedRevenue,"EUR","symbol","1.2-2")," "),d(8),g(e.pieChartData.datasets[0].data.length>0?16:17),d(12),p("dataSource",e.userDataSource),d(),J(e.userDisplayedColumns),d(2),p("matHeaderRowDef",e.userDisplayedColumns),d(),p("matRowDefColumns",e.userDisplayedColumns),d(),g(e.userDataSource.length===0?33:-1),d(11),xe("ngModel",e.packageFilter),d(),p("value",null),d(2),J(e.packageOptions),d(5),xe("ngModel",e.activeFilter),d(),p("value",null),d(2),p("value",!0),d(2),p("value",!1),d(3),p("dataSource",e.clientDataSource),d(),J(e.clientDisplayedColumns),d(2),p("matHeaderRowDef",e.clientDisplayedColumns),d(),p("matRowDefColumns",e.clientDisplayedColumns),d(),g(e.clientDataSource.length===0?65:-1),d(7),p("dataSource",e.reportLogDataSource),d(13),p("matHeaderRowDef",e.reportLogDisplayedColumns),d(),p("matRowDefColumns",e.reportLogDisplayedColumns),d(),g(e.reportLogDataSource.length===0?87:-1)}}var Ai=class t{constructor(n,e,i,a,o){this.userService=n;this.statsService=e;this.authservice=i;this.dialog=a;this.reportService=o;oi.register(...ri)}userDataSource=[];userDisplayedColumns=["username","name","email","role","actions"];clientDataSource=[];clientDisplayedColumns=["companyName","cif","servicePackage","active","direction"];reportLogDataSource=[];reportLogDisplayedColumns=["date","type","emailSent","actions"];allClients=[];activeFilter=null;packageFilter=null;packageOptions=["Plan Esencial","Plan Profesional","Plan Corporativo"];pieChartOptions={responsive:!0,plugins:{legend:{position:"right",labels:{boxWidth:10}}}};pieChartType="pie";pieChartData={labels:[],datasets:[{data:[],label:"Paquetes Activos",backgroundColor:["#3f51b5","#ff4081","#ffc107"]}]};proyectedRevenue=0;isLoading=!0;ngOnInit(){this.loadAdminData()}loadAdminData(){this.isLoading=!0,this.userService.getAllBasicUsers().subscribe({next:n=>{this.userDataSource=this.sortUsersByRole(n),this.checkLoadingComplete()},error:n=>{this.handleApiError(n)}}),this.userService.getAllClients().subscribe({next:n=>{console.log("Clientes cargados:",n),this.allClients=n,this.clientDataSource=n,this.isLoading=!1},error:()=>{this.isLoading=!1}}),this.statsService.getProjectedMonthlyRevenue().subscribe({next:n=>{this.proyectedRevenue=n,this.checkLoadingComplete()},error:n=>{this.handleApiError(n)}}),this.statsService.getActiveCountsByPackage().subscribe({next:n=>{this.updatePieChart(n),this.checkLoadingComplete()},error:n=>{this.handleApiError(n)}}),this.reportService.getReportLogs().subscribe({next:n=>{this.reportLogDataSource=n,this.checkLoadingComplete()},error:n=>{this.handleApiError(n)}}),this.expectedLoads=5}sortUsersByRole(n){let e={ADMIN:1,MANAGER:2,TECNICO:3,CLIENTE:4};return n.sort((i,a)=>{let o=e,c=o[i.role]||99,u=o[a.role]||99;return c-u})}applyClientFilters(){this.clientDataSource=this.allClients.filter(n=>{let e=this.packageFilter===null||n.servicePackage===this.packageFilter,i=this.activeFilter===null||n.active===this.activeFilter;return e&&i})}updatePieChart(n){this.pieChartData={labels:n.map(e=>e.packageName),datasets:[{data:n.map(e=>e.clientCount),backgroundColor:["#3f51b5","#ff4081","#ffc107"]}]},this.pieChartData=ae({},this.pieChartData)}onLogout(){this.authservice.logout()}openCreateUserDialog(){this.dialog.open(Ze,{width:"600px"}).afterClosed().subscribe(e=>{e===!0&&this.loadAdminData()})}openEditUserDialog(n){this.dialog.open(Ze,{width:"600px",data:{userId:n}}).afterClosed().subscribe(i=>{i===!0&&this.loadAdminData()})}confirmDelete(n,e){confirm(`\xBFEst\xE1s seguro de que deseas eliminar al usuario ${e} (ID: ${n})?`)&&this.userService.deleteUser(n).subscribe({next:()=>{alert(`Usuario ${e} eliminado.`),this.loadAdminData()},error:i=>{console.error("Error al eliminar:",i),alert("Error al eliminar el usuario. Verifique sus permisos.")}})}handleApiError(n){n.status===401||n.status===403?this.authservice.logout():(console.error("Error al cargar datos de Dashboard:",n),this.isLoading=!1)}loadedCount=0;expectedLoads=4;checkLoadingComplete(){this.loadedCount++,this.loadedCount===this.expectedLoads&&(this.isLoading=!1,this.loadedCount=0)}openPdf(n){let e=this.reportService.getDownloadUrl(n);window.open(e,"_blank")}static \u0275fac=function(e){return new(e||t)(H(Ge),H(Ht),H(Qe),H(ve),H(Ii))};static \u0275cmp=C({type:t,selectors:[["app-admin-dashboard"]],decls:8,vars:1,consts:[["color","primary",1,"dashboard-toolbar","flex","items-center","justify-between","px-6","py-3","shadow-md","bg-slate-800","text-white"],[1,"toolbar-title","text-xl","font-bold","tracking-wide"],["mat-icon-button","",1,"hover:bg-white/10","rounded-full","transition",3,"click"],[1,"loading-overlay","fixed","inset-0","bg-black/50","flex","flex-col","justify-center","items-center","text-white","z-50"],[1,"dashboard-container","p-6","space-y-8"],["diameter","50"],[1,"mt-4","text-lg","font-semibold"],[1,"metrics-row","grid","grid-cols-1","md:grid-cols-3","gap-6"],[1,"metric-card","revenue-card","p-6","shadow-lg","rounded-xl","bg-white"],[1,"text-gray-700","font-semibold"],[1,"revenue-value","text-3xl","font-bold","text-emerald-600","mt-3"],[1,"content-row","grid","grid-cols-1","xl:grid-cols-2","gap-6"],[1,"chart-card","shadow-lg","p-6","rounded-xl","bg-white"],[1,"chart-content","flex","justify-center","items-center"],["baseChart","",1,"max-h-80",3,"options","data","type"],[1,"empty-chart","text-gray-500","text-center","py-6"],[1,"table-card","shadow-lg","rounded-xl","bg-white","p-6","overflow-visible"],[1,"table-header","flex","justify-between","items-center","mb-6"],[1,"text-gray-700","font-semibold","text-lg"],["mat-flat-button","","color","accent",1,"bg-emerald-700","text-white","px-4","py-2","rounded-lg","shadow","hover:bg-emerald-800","transition","flex","items-center","gap-2",3,"click"],[1,"overflow-x-auto","border","border-gray-300","rounded-lg","shadow-inner"],["mat-table","",1,"w-full","divide-y","divide-gray-300",3,"dataSource"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","hover:bg-gray-50 transition",4,"matRowDef","matRowDefColumns"],[1,"client-table-card","shadow-lg","rounded-xl","bg-white","p-6"],[1,"space-y-6"],[1,"filter-controls","flex","flex-col","md:flex-row","gap-4"],[1,"filter-field","w-full","md:w-1/3"],[3,"ngModelChange","selectionChange","ngModel"],[3,"value"],[3,"matColumnDef"],[1,"report-log-card","shadow-lg","rounded-xl","bg-white","p-6"],["matColumnDef","date"],["mat-header-cell","","class","bg-gray-100 p-3 font-semibold",4,"matHeaderCellDef"],["mat-cell","","class","p-3",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","emailSent"],["matColumnDef","actions"],["mat-header-cell","","class","bg-gray-100 font-semibold p-3",4,"matHeaderCellDef"],["mat-cell","","class","p-3 flex gap-2",4,"matCellDef"],["mat-header-cell","",1,"bg-gray-100","font-semibold","p-3"],["mat-cell","",1,"p-3","flex","gap-2"],["mat-icon-button","","color","primary",1,"hover:bg-blue-100","rounded-full",3,"click"],["mat-icon-button","","color","warn",1,"hover:bg-red-100","rounded-full",3,"click"],["mat-cell","",1,"p-3"],["mat-header-row",""],["mat-row","",1,"hover:bg-gray-50","transition"],[1,"p-4","text-center","text-gray-500"],[3,"color"],["mat-header-cell","",1,"bg-gray-100","p-3","font-semibold"],["mat-icon-button","","color","accent",1,"hover:bg-pink-100","rounded-full",3,"click"]],template:function(e,i){e&1&&(r(0,"mat-toolbar",0)(1,"span",1),l(2," ADMIN DASHBOARD "),s(),r(3,"button",2),D("click",function(){return i.onLogout()}),r(4,"mat-icon"),l(5,"logout"),s()()(),b(6,er,4,0,"div",3)(7,Hr,88,25,"div",4)),e&2&&(d(6),g(i.isLoading?6:7))},dependencies:[re,Dt,gt,yt,Ct,vt,Bt,Tt,Mt,At,Rt,St,Ft,Et,It,Pt,Ot,We,He,Ne,$e,Ue,Ve,je,xt,wt,le,se,bt,Di,Ci,pt,di,ht,li,be,ce,ft,Zn,Gn,Za,ni,ai],encapsulation:2})};var Fi=class t{transform(n){if(!n)return"N/A";switch(n.toUpperCase()){case"ADMIN":return"Administrador";case"MANAGER":return"Gerente";case"TECH":return"T\xE9cnico";case"CLIENT":return"Cliente";default:return n}}static \u0275fac=function(e){return new(e||t)};static \u0275pipe=Ua({name:"roleDisplay",type:t,pure:!0})};var Pi="http://localhost:8080/sistema/api/v1/incidences",Ke=class t{constructor(n){this.http=n}findAllIncidencesForDashboard(){return this.http.get(`${Pi}/dashboard-list`,{withCredentials:!0})}assignTechnician(n){return this.http.post(`${Pi}/assign`,n,{withCredentials:!0})}createIncidence(n){return this.http.post(`${Pi}/create`,n,{withCredentials:!0})}getIncidencesByClient(n){return this.http.get(`${Pi}/client/${n}`,{withCredentials:!0})}static \u0275fac=function(e){return new(e||t)(Ee(_e))};static \u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})};var jr=(t,n)=>n.id;function Ur(t,n){t&1&&(r(0,"th",37),l(1," Usuario "),s())}function zr(t,n){if(t&1&&(r(0,"td",38),l(1),s()),t&2){let e=n.$implicit;d(),w(" ",e.username," ")}}function $r(t,n){t&1&&(r(0,"th",37),l(1," Nombre Completo "),s())}function Wr(t,n){if(t&1&&(r(0,"td",38),l(1),s()),t&2){let e=n.$implicit;d(),w(" ",e.name," ")}}function Qr(t,n){t&1&&(r(0,"th",37),l(1," Email "),s())}function qr(t,n){if(t&1&&(r(0,"td",38),l(1),s()),t&2){let e=n.$implicit;d(),w(" ",e.email," ")}}function Gr(t,n){t&1&&(r(0,"th",37),l(1," Rol "),s())}function Zr(t,n){if(t&1&&(r(0,"td",38),l(1),ue(2,"roleDisplay"),s()),t&2){let e=n.$implicit;d(),w(" ",zt(2,1,e.role)," ")}}function Kr(t,n){t&1&&(r(0,"th",37),l(1," Acciones "),s())}function Yr(t,n){if(t&1){let e=ne();r(0,"td",39)(1,"button",40),D("click",function(){let a=x(e).$implicit,o=h();return k(o.openEditUserDialog(a.id))}),r(2,"mat-icon"),l(3,"edit"),s()(),r(4,"button",41),D("click",function(){let a=x(e).$implicit,o=h();return k(o.confirmDelete(a.id,a.name))}),r(5,"mat-icon"),l(6,"delete"),s()()()}}function Xr(t,n){t&1&&y(0,"tr",42)}function Jr(t,n){t&1&&y(0,"tr",43)}function es(t,n){t&1&&(r(0,"tr",44)(1,"td",45),l(2," No hay usuarios registrados. "),s()())}function ts(t,n){t&1&&(r(0,"th",37),l(1," ID "),s())}function is(t,n){if(t&1&&(r(0,"td",38),l(1),s()),t&2){let e=n.$implicit;d(),w(" ",e.id," ")}}function as(t,n){t&1&&(r(0,"th",37),l(1," T\xEDtulo "),s())}function ns(t,n){if(t&1&&(r(0,"td",38),l(1),s()),t&2){let e=n.$implicit;d(),w(" ",e.title," ")}}function os(t,n){t&1&&(r(0,"th",37),l(1," Cliente "),s())}function rs(t,n){if(t&1&&(r(0,"td",38),l(1),s()),t&2){let e=n.$implicit;d(),w(" ",e.clientName," ")}}function ss(t,n){t&1&&(r(0,"th",37),l(1," T\xE9cnico Asignado "),s())}function ls(t,n){if(t&1&&(r(0,"td",38),l(1),s()),t&2){let e=n.$implicit;d(),w(" ",e.technicianName," ")}}function cs(t,n){t&1&&(r(0,"th",37),l(1," Estado "),s())}function ds(t,n){if(t&1&&(r(0,"td",38),l(1),s()),t&2){let e=n.$implicit;d(),w(" ",e.status," ")}}function ms(t,n){t&1&&(r(0,"th",37),l(1," Prioridad "),s())}function us(t,n){if(t&1&&(r(0,"td",38),l(1),s()),t&2){let e=n.$implicit;d(),w(" ",e.priority," ")}}function ps(t,n){t&1&&(r(0,"th",37),l(1," Asignar "),s())}function hs(t,n){if(t&1&&(r(0,"mat-option",49),l(1),s()),t&2){let e=n.$implicit;p("value",e.id),d(),w(" ",e.name," ")}}function fs(t,n){if(t&1){let e=ne();r(0,"mat-form-field",47)(1,"mat-label"),l(2,"T\xE9cnico"),s(),r(3,"mat-select",48),Te("valueChange",function(a){x(e);let o=h().$implicit,c=h();return ke(c.selectedTechnicians[o.id],a)||(c.selectedTechnicians[o.id]=a),k(a)}),X(4,hs,2,2,"mat-option",49,jr),s()(),r(6,"button",50),D("click",function(){x(e);let a=h().$implicit,o=h();return k(o.assignIncident(a.id))}),r(7,"mat-icon"),l(8,"send"),s()()}if(t&2){let e=h().$implicit,i=h();d(3),xe("value",i.selectedTechnicians[e.id]),d(),J(i.technicians),d(2),p("disabled",!i.selectedTechnicians[e.id])}}function _s(t,n){t&1&&(r(0,"mat-icon",46),l(1,"done_all"),s())}function bs(t,n){if(t&1&&(r(0,"td",38),b(1,fs,9,2)(2,_s,2,0,"mat-icon",46),s()),t&2){let e=n.$implicit;d(),g(e.status==="OPEN"||e.status==="PENDING"?1:2)}}function gs(t,n){t&1&&y(0,"tr",42)}function vs(t,n){t&1&&y(0,"tr",43)}function ys(t,n){t&1&&(r(0,"tr",44)(1,"td",51),l(2," No hay incidencias registradas. "),s()())}var Oi=class t{constructor(n,e,i,a,o){this.userService=n;this.statsService=e;this.authService=i;this.dialog=a;this.incidenceService=o;oi.register(...ri)}userDataSource=[];userDisplayedColumns=["username","name","email","role","actions"];incidenceDataSource=[];incidenceDisplayedColumns=["id","title","client","technician","status","priority","assign"];technicians=[];selectedTechnicians={};ngOnInit(){this.loadDashboardData()}loadDashboardData(){this.userService.getAllBasicUsers().subscribe({next:n=>{this.userDataSource=n,this.technicians=n.filter(e=>e.role==="TECH")},error:n=>{n.status===401&&this.authService.logout()}}),this.incidenceService.findAllIncidencesForDashboard().subscribe({next:n=>{this.incidenceDataSource=n},error:n=>{n.status===401&&this.authService.logout()}}),this.statsService.getIncidenceCountsByTechnician().subscribe({next:n=>{this.barChartData.labels=n.map(e=>e.technicianName),this.barChartData.datasets[0].data=n.map(e=>e.incidenceCount),this.barChartData=ae({},this.barChartData)},error:n=>{n.status===401&&this.authService.logout()}})}assignIncident(n){let e=this.selectedTechnicians[n];if(!e){alert("Por favor, selecciona un t\xE9cnico.");return}let i={incidenceId:n,technicianId:e};this.incidenceService.assignTechnician(i).subscribe({next:a=>{alert(`Incidencia #${a.id} asignada a ${a.technicianName}.`),this.loadIncidences()},error:a=>{console.error("Error al asignar incidencia:",a),alert("Error al asignar. Verifica los logs del backend.")}})}loadIncidences(){this.incidenceService.findAllIncidencesForDashboard().subscribe(n=>{this.incidenceDataSource=n})}onLogout(){this.authService.logout()}openCreateUserDialog(){this.dialog.open(Ze,{width:"600px"}).afterClosed().subscribe(e=>{e===!0&&this.loadDashboardData()})}barChartOptions={responsive:!0,indexAxis:"y",scales:{x:{beginAtZero:!0}},plugins:{legend:{display:!1}}};barChartType="bar";barChartData={labels:[],datasets:[{data:[],label:"Incidencias Asignadas",backgroundColor:"#3f51b5"}]};openEditUserDialog(n){this.dialog.open(Ze,{width:"600px",data:{userId:n}}).afterClosed().subscribe(i=>{i===!0&&this.loadDashboardData()})}confirmDelete(n,e){confirm(`\xBFEst\xE1s seguro de que deseas eliminar al usuario ${e} (ID: ${n})?`)&&this.userService.deleteUser(n).subscribe({next:()=>{alert(`Usuario ${e} eliminado.`),this.loadDashboardData()},error:i=>{console.error("Error al eliminar:",i),alert("Error al eliminar el usuario. Verifique sus permisos.")}})}static \u0275fac=function(e){return new(e||t)(H(Ge),H(Ht),H(Qe),H(ve),H(Ke))};static \u0275cmp=C({type:t,selectors:[["app-manager-dashboard"]],decls:89,vars:9,consts:[[1,"dashboard-container","p-6","space-y-8","bg-gray-50","min-h-screen"],["color","primary",1,"flex","items-center","justify-between","px-6","py-3","shadow-md","bg-slate-800","text-white","rounded-lg"],[1,"text-xl","font-semibold","tracking-wide"],["mat-button","",1,"flex","items-center","gap-2","hover:bg-white/10","rounded-lg","px-3","transition",3,"click"],[1,"flex","flex-col","space-y-8"],[1,"user-management-card","shadow-lg","rounded-xl","bg-white","p-6"],[1,"flex","items-center","gap-4"],[1,"text-gray-700","text-lg","font-semibold"],[1,"text-gray-500"],["mat-mini-fab","","color","accent",1,"ml-auto","bg-emerald-700","hover:bg-emerald-800","transition","shadow",3,"click"],[1,"text-gray-600","font-medium","mt-5","mb-3"],[1,"overflow-x-auto","border","border-gray-300","rounded-lg","shadow-inner"],["mat-table","",1,"w-full","divide-y","divide-gray-300",3,"dataSource"],["matColumnDef","username"],["mat-header-cell","","class","bg-gray-100 p-3 font-semibold",4,"matHeaderCellDef"],["mat-cell","","class","p-3",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","email"],["matColumnDef","role"],["matColumnDef","actions"],["mat-cell","","class","p-3 flex gap-2",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","hover:bg-gray-50 transition",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[1,"incidence-assignment-card","shadow-lg","rounded-xl","bg-white","p-6"],["mat-icon-button","",1,"ml-auto","hover:bg-gray-200","rounded-full",3,"click"],["matColumnDef","id"],["matColumnDef","title"],["matColumnDef","client"],["matColumnDef","technician"],["matColumnDef","status"],["matColumnDef","priority"],["matColumnDef","assign"],[1,"stats-chart-card","shadow-lg","rounded-xl","bg-white","p-6"],[1,"flex","justify-center","items-center"],[1,"chart-wrapper","w-full","max-h-[400px]","flex","justify-center","items-center"],["baseChart","",3,"data","options","type"],["mat-header-cell","",1,"bg-gray-100","p-3","font-semibold"],["mat-cell","",1,"p-3"],["mat-cell","",1,"p-3","flex","gap-2"],["mat-icon-button","","color","accent",1,"hover:bg-blue-100","rounded-full",3,"click"],["mat-icon-button","","color","warn",1,"hover:bg-red-100","rounded-full",3,"click"],["mat-header-row",""],["mat-row","",1,"hover:bg-gray-50","transition"],[1,"mat-row"],["colspan","5",1,"mat-cell","p-4","text-center","text-gray-500"],["color","primary"],["appearance","fill",1,"w-40","mr-3"],[3,"valueChange","value"],[3,"value"],["mat-mini-fab","","color","accent",1,"bg-emerald-700","hover:bg-emerald-800","transition","shadow",3,"click","disabled"],["colspan","7",1,"mat-cell","p-4","text-center","text-gray-500"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"mat-toolbar",1)(2,"span",2),l(3," Dashboard del Manager "),s(),r(4,"button",3),D("click",function(){return i.onLogout()}),r(5,"mat-icon"),l(6,"logout"),s(),l(7," Cerrar Sesi\xF3n "),s()(),r(8,"div",4)(9,"mat-card",5)(10,"mat-card-header",6)(11,"div")(12,"mat-card-title",7),l(13," Gesti\xF3n de Usuarios "),s(),r(14,"mat-card-subtitle",8),l(15," A\xF1adir y listar personal / clientes. "),s()(),r(16,"button",9),D("click",function(){return i.openCreateUserDialog()}),r(17,"mat-icon"),l(18,"add"),s()()(),r(19,"mat-card-content"),y(20,"mat-divider"),r(21,"h3",10),l(22,"Usuarios Registrados"),s(),r(23,"div",11)(24,"table",12),R(25,13),_(26,Ur,2,0,"th",14)(27,zr,2,1,"td",15),E(),R(28,16),_(29,$r,2,0,"th",14)(30,Wr,2,1,"td",15),E(),R(31,17),_(32,Qr,2,0,"th",14)(33,qr,2,1,"td",15),E(),R(34,18),_(35,Gr,2,0,"th",14)(36,Zr,3,3,"td",15),E(),R(37,19),_(38,Kr,2,0,"th",14)(39,Yr,7,0,"td",20),E(),_(40,Xr,1,0,"tr",21)(41,Jr,1,0,"tr",22)(42,es,3,0,"tr",23),s()()()(),r(43,"mat-card",24)(44,"mat-card-header",6)(45,"div")(46,"mat-card-title",7),l(47," Asignaci\xF3n de Tickets "),s(),r(48,"mat-card-subtitle",8),l(49," Tickets sin asignar o en proceso. "),s()(),r(50,"button",25),D("click",function(){return i.loadIncidences()}),r(51,"mat-icon"),l(52,"refresh"),s()()(),r(53,"mat-card-content")(54,"div",11)(55,"table",12),R(56,26),_(57,ts,2,0,"th",14)(58,is,2,1,"td",15),E(),R(59,27),_(60,as,2,0,"th",14)(61,ns,2,1,"td",15),E(),R(62,28),_(63,os,2,0,"th",14)(64,rs,2,1,"td",15),E(),R(65,29),_(66,ss,2,0,"th",14)(67,ls,2,1,"td",15),E(),R(68,30),_(69,cs,2,0,"th",14)(70,ds,2,1,"td",15),E(),R(71,31),_(72,ms,2,0,"th",14)(73,us,2,1,"td",15),E(),R(74,32),_(75,ps,2,0,"th",14)(76,bs,3,1,"td",15),E(),_(77,gs,1,0,"tr",21)(78,vs,1,0,"tr",22)(79,ys,3,0,"tr",23),s()()()(),r(80,"mat-card",33)(81,"mat-card-header")(82,"mat-card-title",7),l(83," Rendimiento por T\xE9cnico "),s(),r(84,"mat-card-subtitle",8),l(85," Incidencias asignadas vs. T\xE9cnicos. "),s()(),r(86,"mat-card-content",34)(87,"div",35),y(88,"canvas",36),s()()()()()),e&2&&(d(24),p("dataSource",i.userDataSource),d(16),p("matHeaderRowDef",i.userDisplayedColumns),d(),p("matRowDefColumns",i.userDisplayedColumns),d(14),p("dataSource",i.incidenceDataSource),d(22),p("matHeaderRowDef",i.incidenceDisplayedColumns),d(),p("matRowDefColumns",i.incidenceDisplayedColumns),d(10),p("data",i.barChartData)("options",i.barChartOptions)("type",i.barChartType))},dependencies:[re,ft,Dt,gt,yt,Ct,pn,vt,le,se,un,bt,Bt,Tt,Mt,At,Rt,St,Ft,Et,It,Pt,Ot,Pn,Ve,He,Ne,je,We,$e,Ue,be,ce,Se,Di,Ci,xt,wt,pt,Fi],encapsulation:2})};var Bi=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-tech-dashboard"]],decls:2,vars:0,template:function(e,i){e&1&&(ti(0,"p"),l(1,"tech-dashboard works!"),ii())},encapsulation:2})};var Li=class t{http=m(_e);apiUrl="http://localhost:8080/sistema/api/v1/clients";getClientById(n){return this.http.get(`${this.apiUrl}/${n}`,{withCredentials:!0})}getUsersByClientId(n){return this.http.get(`${this.apiUrl}/${n}/users`,{withCredentials:!0})}getSubClients(n){return this.http.get(`${this.apiUrl}/${n}/sub-clients`,{withCredentials:!0})}getMyProfile(){return this.http.get(`${this.apiUrl}/profile`,{withCredentials:!0})}static \u0275fac=function(e){return new(e||t)};static \u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})};var ka=["*"];function ws(t,n){t&1&&oe(0)}var xs=["tabListContainer"],ks=["tabList"],Ts=["tabListInner"],Ss=["nextPaginator"],Ms=["previousPaginator"],Rs=["content"];function Es(t,n){}var Is=["tabBodyWrapper"],As=["tabHeader"];function Fs(t,n){}function Ps(t,n){if(t&1&&_(0,Fs,0,0,"ng-template",12),t&2){let e=h().$implicit;p("cdkPortalOutlet",e.templateLabel)}}function Os(t,n){if(t&1&&l(0),t&2){let e=h().$implicit;G(e.textLabel)}}function Bs(t,n){if(t&1){let e=ne();r(0,"div",7,2),D("click",function(){let a=x(e),o=a.$implicit,c=a.$index,u=h(),f=Ut(1);return k(u._handleClick(o,f,c))})("cdkFocusChange",function(a){let o=x(e).$index,c=h();return k(c._tabFocusChanged(a,o))}),y(2,"span",8)(3,"div",9),r(4,"span",10)(5,"span",11),b(6,Ps,1,1,null,12)(7,Os,1,1),s()()()}if(t&2){let e=n.$implicit,i=n.$index,a=Ut(1),o=h();dt(e.labelClass),O("mdc-tab--active",o.selectedIndex===i),p("id",o._getTabLabelId(e,i))("disabled",e.disabled)("fitInkBarToContent",o.fitInkBarToContent),A("tabIndex",o._getTabIndex(i))("aria-posinset",i+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(i))("aria-selected",o.selectedIndex===i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),d(3),p("matRippleTrigger",a)("matRippleDisabled",e.disabled||o.disableRipple),d(3),g(e.templateLabel?6:7)}}function Ls(t,n){t&1&&oe(0)}function Ns(t,n){if(t&1){let e=ne();r(0,"mat-tab-body",13),D("_onCentered",function(){x(e);let a=h();return k(a._removeTabBodyWrapperHeight())})("_onCentering",function(a){x(e);let o=h();return k(o._setTabBodyWrapperHeight(a))})("_beforeCentering",function(a){x(e);let o=h();return k(o._bodyCentered(a))}),s()}if(t&2){let e=n.$implicit,i=n.$index,a=h();dt(e.bodyClass),p("id",a._getTabContentId(i))("content",e.content)("position",e.position)("animationDuration",a.animationDuration)("preserveContent",a.preserveContent),A("tabindex",a.contentTabIndex!=null&&a.selectedIndex===i?a.contentTabIndex:null)("aria-labelledby",a._getTabLabelId(e,i))("aria-hidden",a.selectedIndex!==i)}}var Hs=new L("MatTabContent"),Vs=(()=>{class t{template=m(q);constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=v({type:t,selectors:[["","matTabContent",""]],features:[z([{provide:Hs,useExisting:t}])]})}return t})(),js=new L("MatTabLabel"),io=new L("MAT_TAB"),Us=(()=>{class t extends Dn{_closestTab=m(io,{optional:!0});static \u0275fac=(()=>{let e;return function(a){return(e||(e=N(t)))(a||t)}})();static \u0275dir=v({type:t,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[z([{provide:js,useExisting:t}]),T]})}return t})(),ao=new L("MAT_TAB_GROUP"),Ta=(()=>{class t{_viewContainerRef=m(Ae);_closestTabGroup=m(ao,{optional:!0});disabled=!1;get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}_templateLabel;_explicitContent=void 0;_implicitContent;textLabel="";ariaLabel;ariaLabelledby;labelClass;bodyClass;id=null;_contentPortal=null;get content(){return this._contentPortal}_stateChanges=new Q;position=null;origin=null;isActive=!1;constructor(){m(nn).load(mn)}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new _i(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=C({type:t,selectors:[["mat-tab"]],contentQueries:function(i,a,o){if(i&1&&(ee(o,Us,5),ee(o,Vs,7,q)),i&2){let c;S(c=M())&&(a.templateLabel=c.first),S(c=M())&&(a._explicitContent=c.first)}},viewQuery:function(i,a){if(i&1&&W(q,7),i&2){let o;S(o=M())&&(a._implicitContent=o.first)}},hostAttrs:["hidden",""],hostVars:1,hostBindings:function(i,a){i&2&&A("id",null)},inputs:{disabled:[2,"disabled","disabled",B],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass",id:"id"},exportAs:["matTab"],features:[z([{provide:io,useExisting:t}]),Ie],ngContentSelectors:ka,decls:1,vars:0,template:function(i,a){i&1&&(Fe(),$a(0,ws,1,0,"ng-template"))},encapsulation:2})}return t})(),Ca="mdc-tab-indicator--active",Jn="mdc-tab-indicator--no-transition",Da=class{_items;_currentItem;constructor(n){this._items=n}hide(){this._items.forEach(n=>n.deactivateInkBar()),this._currentItem=void 0}alignToElement(n){let e=this._items.find(a=>a.elementRef.nativeElement===n),i=this._currentItem;if(e!==i&&(i?.deactivateInkBar(),e)){let a=i?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(a),this._currentItem=e}}},zs=(()=>{class t{_elementRef=m(P);_inkBarElement;_inkBarContentElement;_fitToContent=!1;get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(e){this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(e){let i=this._elementRef.nativeElement;if(!e||!i.getBoundingClientRect||!this._inkBarContentElement){i.classList.add(Ca);return}let a=i.getBoundingClientRect(),o=e.width/a.width,c=e.left-a.left;i.classList.add(Jn),this._inkBarContentElement.style.setProperty("transform",`translateX(${c}px) scaleX(${o})`),i.getBoundingClientRect(),i.classList.remove(Jn),i.classList.add(Ca),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(Ca)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let e=this._elementRef.nativeElement.ownerDocument||document,i=this._inkBarElement=e.createElement("span"),a=this._inkBarContentElement=e.createElement("span");i.className="mdc-tab-indicator",a.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",i.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let e=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;e.appendChild(this._inkBarElement)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=v({type:t,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",B]}})}return t})();var no=(()=>{class t extends zs{elementRef=m(P);disabled=!1;focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static \u0275fac=(()=>{let e;return function(a){return(e||(e=N(t)))(a||t)}})();static \u0275dir=v({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(i,a){i&2&&(A("aria-disabled",!!a.disabled),O("mat-mdc-tab-disabled",a.disabled))},inputs:{disabled:[2,"disabled","disabled",B]},features:[T]})}return t})(),eo={passive:!0},$s=650,Ws=100,Qs=(()=>{class t{_elementRef=m(P);_changeDetectorRef=m(Oe);_viewportRuler=m(fi);_dir=m(Le,{optional:!0});_ngZone=m(Je);_platform=m(et);_sharedResizeObserver=m(fn);_injector=m(Y);_renderer=m(jt);_animationsDisabled=it();_eventCleanups;_scrollDistance=0;_selectedIndexChanged=!1;_destroyed=new Q;_showPaginationControls=!1;_disableScrollAfter=!0;_disableScrollBefore=!0;_tabLabelCount;_scrollDistanceChanged;_keyManager;_currentTextContent;_stopScrolling=new Q;disablePagination=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){let i=isNaN(e)?0:e;this._selectedIndex!=i&&(this._selectedIndexChanged=!0,this._selectedIndex=i,this._keyManager&&this._keyManager.updateActiveItem(i))}_selectedIndex=0;selectFocusedIndex=new $;indexFocused=new $;constructor(){this._eventCleanups=this._ngZone.runOutsideAngular(()=>[this._renderer.listen(this._elementRef.nativeElement,"mouseleave",()=>this._stopInterval())])}ngAfterViewInit(){this._eventCleanups.push(this._renderer.listen(this._previousPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("before"),eo),this._renderer.listen(this._nextPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("after"),eo))}ngAfterContentInit(){let e=this._dir?this._dir.change:Vt("ltr"),i=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(La(32),De(this._destroyed)),a=this._viewportRuler.change(150).pipe(De(this._destroyed)),o=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new cn(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(Math.max(this._selectedIndex,0)),me(o,{injector:this._injector}),lt(e,a,i,this._items.changes,this._itemsResized()).pipe(De(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),o()})}),this._keyManager?.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(c=>{this.indexFocused.emit(c),this._setTabFocus(c)})}_itemsResized(){return typeof ResizeObserver!="function"?Aa:this._items.changes.pipe(Re(this._items),Ha(e=>new Ia(i=>this._ngZone.runOutsideAngular(()=>{let a=new ResizeObserver(o=>i.next(o));return e.forEach(o=>a.observe(o.elementRef.nativeElement)),()=>{a.disconnect()}}))),Na(1),Xe(e=>e.some(i=>i.contentRect.width>0&&i.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._eventCleanups.forEach(e=>e()),this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!_t(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let i=this._items.get(this.focusIndex);i&&!i.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager?.onKeydown(e)}}_onContentChanges(){let e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return this._items?!!this._items.toArray()[e]:!0}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();let i=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?i.scrollLeft=0:i.scrollLeft=i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let e=this.scrollDistance,i=this._getLayoutDirection()==="ltr"?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){let i=this._tabListContainer.nativeElement.offsetWidth,a=(e=="before"?-1:1)*i/3;return this._scrollTo(this._scrollDistance+a)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;let i=this._items?this._items.toArray()[e]:null;if(!i)return;let a=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:c}=i.elementRef.nativeElement,u,f;this._getLayoutDirection()=="ltr"?(u=o,f=u+c):(f=this._tabListInner.nativeElement.offsetWidth-o,u=f-c);let I=this.scrollDistance,Z=this.scrollDistance+a;u<I?this.scrollDistance-=I-u:f>Z&&(this.scrollDistance+=Math.min(f-Z,u-I))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let e=this._tabListInner.nativeElement.scrollWidth,i=this._elementRef.nativeElement.offsetWidth,a=e-i>=5;a||(this.scrollDistance=0),a!==this._showPaginationControls&&(this._showPaginationControls=a,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let e=this._tabListInner.nativeElement.scrollWidth,i=this._tabListContainer.nativeElement.offsetWidth;return e-i||0}_alignInkBarToSelectedTab(){let e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&i.button!=null&&i.button!==0||(this._stopInterval(),Oa($s,Ws).pipe(De(lt(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:a,distance:o}=this._scrollHeader(e);(o===0||o>=a)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}static \u0275fac=function(i){return new(i||t)};static \u0275dir=v({type:t,inputs:{disablePagination:[2,"disablePagination","disablePagination",B],selectedIndex:[2,"selectedIndex","selectedIndex",Be]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"}})}return t})(),qs=(()=>{class t extends Qs{_items;_tabListContainer;_tabList;_tabListInner;_nextPaginator;_previousPaginator;_inkBar;ariaLabel;ariaLabelledby;disableRipple=!1;ngAfterContentInit(){this._inkBar=new Da(this._items),super.ngAfterContentInit()}_itemSelected(e){e.preventDefault()}static \u0275fac=(()=>{let e;return function(a){return(e||(e=N(t)))(a||t)}})();static \u0275cmp=C({type:t,selectors:[["mat-tab-header"]],contentQueries:function(i,a,o){if(i&1&&ee(o,no,4),i&2){let c;S(c=M())&&(a._items=c)}},viewQuery:function(i,a){if(i&1&&(W(xs,7),W(ks,7),W(Ts,7),W(Ss,5),W(Ms,5)),i&2){let o;S(o=M())&&(a._tabListContainer=o.first),S(o=M())&&(a._tabList=o.first),S(o=M())&&(a._tabListInner=o.first),S(o=M())&&(a._nextPaginator=o.first),S(o=M())&&(a._previousPaginator=o.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(i,a){i&2&&O("mat-mdc-tab-header-pagination-controls-enabled",a._showPaginationControls)("mat-mdc-tab-header-rtl",a._getLayoutDirection()=="rtl")},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",B]},features:[T],ngContentSelectors:ka,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(i,a){if(i&1){let o=ne();Fe(),r(0,"div",5,0),D("click",function(){return x(o),k(a._handlePaginatorClick("before"))})("mousedown",function(u){return x(o),k(a._handlePaginatorPress("before",u))})("touchend",function(){return x(o),k(a._stopInterval())}),y(2,"div",6),s(),r(3,"div",7,1),D("keydown",function(u){return x(o),k(a._handleKeydown(u))}),r(5,"div",8,2),D("cdkObserveContent",function(){return x(o),k(a._onContentChanges())}),r(7,"div",9,3),oe(9),s()()(),r(10,"div",10,4),D("mousedown",function(u){return x(o),k(a._handlePaginatorPress("after",u))})("click",function(){return x(o),k(a._handlePaginatorClick("after"))})("touchend",function(){return x(o),k(a._stopInterval())}),y(12,"div",6),s()}i&2&&(O("mat-mdc-tab-header-pagination-disabled",a._disableScrollBefore),p("matRippleDisabled",a._disableScrollBefore||a.disableRipple),d(3),O("_mat-animation-noopable",a._animationsDisabled),d(2),A("aria-label",a.ariaLabel||null)("aria-labelledby",a.ariaLabelledby||null),d(5),O("mat-mdc-tab-header-pagination-disabled",a._disableScrollAfter),p("matRippleDisabled",a._disableScrollAfter||a.disableRipple))},dependencies:[Xi,on],styles:[`.mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-pagination-icon-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-divider-height, 1px);border-bottom-color:var(--mat-tab-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-divider-height, 1px);border-top-color:var(--mat-tab-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mat-tab-container-height, 48px)}.mat-mdc-tab::before{margin:5px}@media(forced-colors: active){.mat-mdc-tab[aria-disabled=true]{color:GrayText}}
`],encapsulation:2})}return t})(),Gs=new L("MAT_TABS_CONFIG"),to=(()=>{class t extends ze{_host=m(wa);_ngZone=m(Je);_centeringSub=Ye.EMPTY;_leavingSub=Ye.EMPTY;constructor(){super()}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Re(this._host._isCenterPosition())).subscribe(e=>{this._host._content&&e&&!this.hasAttached()&&this._ngZone.run(()=>{Promise.resolve().then(),this.attach(this._host._content)})}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this._ngZone.run(()=>this.detach())})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=v({type:t,selectors:[["","matTabBodyHost",""]],features:[T]})}return t})(),wa=(()=>{class t{_elementRef=m(P);_dir=m(Le,{optional:!0});_ngZone=m(Je);_injector=m(Y);_renderer=m(jt);_diAnimationsDisabled=it();_eventCleanups;_initialized;_fallbackTimer;_positionIndex;_dirChangeSubscription=Ye.EMPTY;_position;_previousPosition;_onCentering=new $;_beforeCentering=new $;_afterLeavingCenter=new $;_onCentered=new $(!0);_portalHost;_contentElement;_content;animationDuration="500ms";preserveContent=!1;set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(){if(this._dir){let e=m(Oe);this._dirChangeSubscription=this._dir.change.subscribe(i=>{this._computePositionAnimationState(i),e.markForCheck()})}}ngOnInit(){this._bindTransitionEvents(),this._position==="center"&&(this._setActiveClass(!0),me(()=>this._onCentering.emit(this._elementRef.nativeElement.clientHeight),{injector:this._injector})),this._initialized=!0}ngOnDestroy(){clearTimeout(this._fallbackTimer),this._eventCleanups?.forEach(e=>e()),this._dirChangeSubscription.unsubscribe()}_bindTransitionEvents(){this._ngZone.runOutsideAngular(()=>{let e=this._elementRef.nativeElement,i=a=>{a.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.remove("mat-tab-body-animating"),a.type==="transitionend"&&this._transitionDone())};this._eventCleanups=[this._renderer.listen(e,"transitionstart",a=>{a.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.add("mat-tab-body-animating"),this._transitionStarted())}),this._renderer.listen(e,"transitionend",i),this._renderer.listen(e,"transitioncancel",i)]})}_transitionStarted(){clearTimeout(this._fallbackTimer);let e=this._position==="center";this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_transitionDone(){this._position==="center"?this._onCentered.emit():this._previousPosition==="center"&&this._afterLeavingCenter.emit()}_setActiveClass(e){this._elementRef.nativeElement.classList.toggle("mat-mdc-tab-body-active",e)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(){return this._positionIndex===0}_computePositionAnimationState(e=this._getLayoutDirection()){this._previousPosition=this._position,this._positionIndex<0?this._position=e=="ltr"?"left":"right":this._positionIndex>0?this._position=e=="ltr"?"right":"left":this._position="center",this._animationsDisabled()?this._simulateTransitionEvents():this._initialized&&(this._position==="center"||this._previousPosition==="center")&&(clearTimeout(this._fallbackTimer),this._fallbackTimer=this._ngZone.runOutsideAngular(()=>setTimeout(()=>this._simulateTransitionEvents(),100)))}_simulateTransitionEvents(){this._transitionStarted(),me(()=>this._transitionDone(),{injector:this._injector})}_animationsDisabled(){return this._diAnimationsDisabled||this.animationDuration==="0ms"||this.animationDuration==="0s"}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=C({type:t,selectors:[["mat-tab-body"]],viewQuery:function(i,a){if(i&1&&(W(to,5),W(Rs,5)),i&2){let o;S(o=M())&&(a._portalHost=o.first),S(o=M())&&(a._contentElement=o.first)}},hostAttrs:[1,"mat-mdc-tab-body"],hostVars:1,hostBindings:function(i,a){i&2&&A("inert",a._position==="center"?null:"")},inputs:{_content:[0,"content","_content"],animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_onCentered:"_onCentered"},decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(i,a){i&1&&(r(0,"div",1,0),_(2,Es,0,0,"ng-template",2),s()),i&2&&O("mat-tab-body-content-left",a._position==="left")("mat-tab-body-content-right",a._position==="right")("mat-tab-body-content-can-animate",a._position==="center"||a._previousPosition==="center")},dependencies:[to,hi],styles:[`.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto;transform:none;visibility:hidden}.mat-tab-body-animating>.mat-mdc-tab-body-content,.mat-mdc-tab-body-active>.mat-mdc-tab-body-content{visibility:visible}.mat-tab-body-animating>.mat-mdc-tab-body-content{min-height:1px}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-tab-body-content-can-animate{transition:transform var(--mat-tab-animation-duration) 1ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable .mat-tab-body-content-can-animate{transition:none}.mat-tab-body-content-left{transform:translate3d(-100%, 0, 0)}.mat-tab-body-content-right{transform:translate3d(100%, 0, 0)}
`],encapsulation:2})}return t})(),oo=(()=>{class t{_elementRef=m(P);_changeDetectorRef=m(Oe);_ngZone=m(Je);_tabsSubscription=Ye.EMPTY;_tabLabelSubscription=Ye.EMPTY;_tabBodySubscription=Ye.EMPTY;_diAnimationsDisabled=it();_allTabs;_tabBodies;_tabBodyWrapper;_tabHeader;_tabs=new ja;_indexToSelect=0;_lastFocusedTabIndex=null;_tabBodyWrapperHeight=0;color;get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=e,this._changeDetectorRef.markForCheck()}_fitInkBarToContent=!1;stretchTabs=!0;alignTabs=null;dynamicHeight=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=isNaN(e)?null:e}_selectedIndex=null;headerPosition="above";get animationDuration(){return this._animationDuration}set animationDuration(e){let i=e+"";this._animationDuration=/^\d+$/.test(i)?e+"ms":i}_animationDuration;get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=isNaN(e)?null:e}_contentTabIndex;disablePagination=!1;disableRipple=!1;preserveContent=!1;get backgroundColor(){return this._backgroundColor}set backgroundColor(e){let i=this._elementRef.nativeElement.classList;i.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&i.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}_backgroundColor;ariaLabel;ariaLabelledby;selectedIndexChange=new $;focusChange=new $;animationDone=new $;selectedTabChange=new $(!0);_groupId;_isServer=!m(et).isBrowser;constructor(){let e=m(Gs,{optional:!0});this._groupId=m(tt).getId("mat-tab-group-"),this.animationDuration=e&&e.animationDuration?e.animationDuration:"500ms",this.disablePagination=e&&e.disablePagination!=null?e.disablePagination:!1,this.dynamicHeight=e&&e.dynamicHeight!=null?e.dynamicHeight:!1,e?.contentTabIndex!=null&&(this.contentTabIndex=e.contentTabIndex),this.preserveContent=!!e?.preserveContent,this.fitInkBarToContent=e&&e.fitInkBarToContent!=null?e.fitInkBarToContent:!1,this.stretchTabs=e&&e.stretchTabs!=null?e.stretchTabs:!0,this.alignTabs=e&&e.alignTabs!=null?e.alignTabs:null}ngAfterContentChecked(){let e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){let i=this._selectedIndex==null;if(!i){this.selectedTabChange.emit(this._createChangeEvent(e));let a=this._tabBodyWrapper.nativeElement;a.style.minHeight=a.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((a,o)=>a.isActive=o===e),i||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,a)=>{i.position=a-e,this._selectedIndex!=null&&i.position==0&&!i.origin&&(i.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){let i=this._tabs.toArray(),a;for(let o=0;o<i.length;o++)if(i[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,a=i[o];break}!a&&i[e]&&Promise.resolve().then(()=>{i[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){this._tabBodySubscription=this._tabBodies.changes.subscribe(()=>this._bodyCentered(!0))}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Re(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe(),this._tabBodySubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){let i=this._tabHeader;i&&(i.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){let i=new xa;return i.index=e,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[e]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=lt(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e,i){return e.id||`${this._groupId}-label-${i}`}_getTabContentId(e){return`${this._groupId}-content-${e}`}_setTabBodyWrapperHeight(e){if(!this.dynamicHeight||!this._tabBodyWrapperHeight){this._tabBodyWrapperHeight=e;return}let i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=e+"px")}_removeTabBodyWrapperHeight(){let e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this._ngZone.run(()=>this.animationDone.emit())}_handleClick(e,i,a){i.focusIndex=a,e.disabled||(this.selectedIndex=a)}_getTabIndex(e){let i=this._lastFocusedTabIndex??this.selectedIndex;return e===i?0:-1}_tabFocusChanged(e,i){e&&e!=="mouse"&&e!=="touch"&&(this._tabHeader.focusIndex=i)}_bodyCentered(e){e&&this._tabBodies?.forEach((i,a)=>i._setActiveClass(a===this._selectedIndex))}_animationsDisabled(){return this._diAnimationsDisabled||this.animationDuration==="0"||this.animationDuration==="0ms"}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=C({type:t,selectors:[["mat-tab-group"]],contentQueries:function(i,a,o){if(i&1&&ee(o,Ta,5),i&2){let c;S(c=M())&&(a._allTabs=c)}},viewQuery:function(i,a){if(i&1&&(W(Is,5),W(As,5),W(wa,5)),i&2){let o;S(o=M())&&(a._tabBodyWrapper=o.first),S(o=M())&&(a._tabHeader=o.first),S(o=M())&&(a._tabBodies=o)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:11,hostBindings:function(i,a){i&2&&(A("mat-align-tabs",a.alignTabs),dt("mat-"+(a.color||"primary")),Pe("--mat-tab-animation-duration",a.animationDuration),O("mat-mdc-tab-group-dynamic-height",a.dynamicHeight)("mat-mdc-tab-group-inverted-header",a.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",a.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",B],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",B],alignTabs:[0,"mat-align-tabs","alignTabs"],dynamicHeight:[2,"dynamicHeight","dynamicHeight",B],selectedIndex:[2,"selectedIndex","selectedIndex",Be],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",Be],disablePagination:[2,"disablePagination","disablePagination",B],disableRipple:[2,"disableRipple","disableRipple",B],preserveContent:[2,"preserveContent","preserveContent",B],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],features:[z([{provide:ao,useExisting:t}])],ngContentSelectors:ka,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","class","content","position","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","_beforeCentering","id","content","position","animationDuration","preserveContent"]],template:function(i,a){if(i&1){let o=ne();Fe(),r(0,"mat-tab-header",3,0),D("indexFocused",function(u){return x(o),k(a._focusChanged(u))})("selectFocusedIndex",function(u){return x(o),k(a.selectedIndex=u)}),X(2,Bs,8,17,"div",4,fe),s(),b(4,Ls,1,0),r(5,"div",5,1),X(7,Ns,1,10,"mat-tab-body",6,fe),s()}i&2&&(p("selectedIndex",a.selectedIndex||0)("disableRipple",a.disableRipple)("disablePagination",a.disablePagination),Wa("aria-label",a.ariaLabel)("aria-labelledby",a.ariaLabelledby),d(2),J(a._tabs),d(2),g(a._isServer?4:-1),d(),O("_mat-animation-noopable",a._animationsDisabled()),d(2),J(a._tabs))},dependencies:[qs,no,an,Xi,ze,wa],styles:[`.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1;touch-action:manipulation}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mat-tab-container-height, 48px);font-family:var(--mat-tab-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-tab-label-text-size, var(--mat-sys-title-small-size));letter-spacing:var(--mat-tab-label-text-tracking, var(--mat-sys-title-small-tracking));line-height:var(--mat-tab-label-text-line-height, var(--mat-sys-title-small-line-height));font-weight:var(--mat-tab-label-text-weight, var(--mat-sys-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mat-tab-active-indicator-height, 2px);border-radius:var(--mat-tab-active-indicator-shape, 0)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-inactive-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-inactive-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-active-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-active-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-active-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-active-hover-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-active-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-active-focus-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-disabled-ripple-color, var(--mat-sys-on-surface-variant))}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-inactive-label-text-color, var(--mat-sys-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-focus-indicator::before{border-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}
`],encapsulation:2})}return t})(),xa=class{index;tab};var ro=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=j({type:t});static \u0275inj=V({imports:[te,te]})}return t})();var so=()=>["name","active","billing"];function Ks(t,n){t&1&&(r(0,"th",16),l(1," Cliente "),s())}function Ys(t,n){if(t&1&&(r(0,"td",17)(1,"strong"),l(2),s()()),t&2){let e=n.$implicit;d(2),G(e.company_name)}}function Xs(t,n){t&1&&(r(0,"th",16),l(1," Estado "),s())}function Js(t,n){if(t&1&&(r(0,"td",17),l(1),s()),t&2){let e=n.$implicit;d(),w(" ",e.active?"\u2705":"\u274C"," ")}}function el(t,n){t&1&&(r(0,"th",16),l(1," Facturaci\xF3n "),s())}function tl(t,n){if(t&1&&(r(0,"td",17),l(1),ue(2,"currency"),s()),t&2){let e=n.$implicit;d(),w(" ",mt(2,1,e.billing,"EUR")," ")}}function il(t,n){t&1&&y(0,"tr",18)}function al(t,n){t&1&&y(0,"tr",19)}function nl(t,n){t&1&&(r(0,"p",13),l(1,"No hay clientes registrados."),s())}var Ni=class t{constructor(n){this.data=n}static \u0275fac=function(e){return new(e||t)(H(Lt))};static \u0275cmp=C({type:t,selectors:[["app-company-modal"]],decls:41,vars:11,consts:[["mat-dialog-title","",2,"display","flex","align-items","center","gap","10px"],[2,"display","grid","grid-template-columns","1fr 1fr","gap","10px","margin-bottom","20px","background","#f5f5f5","padding","15px","border-radius","8px"],["mat-stretch-tabs","false","mat-align-tabs","start"],["label","Facturaci\xF3n y Clientes"],[2,"margin-top","15px"],["mat-table","",1,"mat-elevation-z1",2,"width","100%",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","active"],["matColumnDef","billing"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[2,"padding","10px","color","grey"],["align","end"],["mat-stroked-button","","mat-dialog-close",""],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,i){e&1&&(r(0,"h2",0)(1,"mat-icon"),l(2,"business"),s(),l(3),s(),r(4,"mat-dialog-content")(5,"div",1)(6,"span")(7,"strong"),l(8,"CIF:"),s(),l(9),s(),r(10,"span")(11,"strong"),l(12,"Plan:"),s(),l(13),s(),r(14,"span")(15,"strong"),l(16,"Direcci\xF3n:"),s(),l(17),s(),r(18,"span")(19,"strong"),l(20,"Estado:"),s(),l(21),s()(),r(22,"mat-tab-group",2)(23,"mat-tab",3)(24,"div",4)(25,"table",5),R(26,6),_(27,Ks,2,0,"th",7)(28,Ys,3,1,"td",8),E(),R(29,9),_(30,Xs,2,0,"th",7)(31,Js,2,1,"td",8),E(),R(32,10),_(33,el,2,0,"th",7)(34,tl,3,4,"td",8),E(),_(35,il,1,0,"tr",11)(36,al,1,0,"tr",12),s(),b(37,nl,2,0,"p",13),s()()()(),r(38,"mat-dialog-actions",14)(39,"button",15),l(40,"Cerrar"),s()()),e&2&&(d(3),w(" ",i.data.company.companyName,`
`),d(6),w(" ",i.data.company.cif),d(4),w(" ",i.data.company.servicePackage),d(4),w(" ",i.data.company.direction),d(4),w(" ",i.data.company.active?"\u2705 Activo":"\u274C Inactivo"),d(4),p("dataSource",i.data.subClients),d(10),p("matHeaderRowDef",Qi(9,so)),d(),p("matRowDefColumns",Qi(10,so)),d(),g(i.data.subClients.length===0?37:-1))},dependencies:[re,Se,Kt,nt,rt,ot,le,se,ro,Ta,oo,Bt,Tt,Mt,At,Rt,St,Ft,Et,It,Pt,Ot,be,ce,ni],encapsulation:2})};var Hi=class t{dialogRef=m(ge);incidenceService=m(Ke);authService=m(Qe);ticket={title:"",description:"",priority:"MEDIA",clientUserId:0};save(){if(!this.authService.currentUserId){alert("Error: No se pudo identificar tu usuario. \xBFHas iniciado sesi\xF3n?");return}if(this.ticket.clientUserId=this.authService.currentUserId||0,this.ticket.clientUserId===0){alert("Error: No encuentro tu ID de usuario en la sesi\xF3n.");return}this.incidenceService.createIncidence(this.ticket).subscribe({next:()=>{alert("\xA1Incidencia creada con \xE9xito! \u{1F3AB}"),this.dialogRef.close(!0)},error:e=>{console.error("Error al crear la incidencia:",e),alert("Error al crear la incidencia. Revisa la consola.")}})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-create-incidence-modal"]],decls:31,vars:4,consts:[["mat-dialog-title","",2,"display","flex","align-items","center","gap","10px"],[2,"display","flex","flex-direction","column","gap","15px","min-width","400px","padding-top","10px"],["appearance","outline"],["matInput","","placeholder","Ej: No puedo acceder a la base de datos","required","",3,"ngModelChange","ngModel"],["required","",3,"ngModelChange","ngModel"],["value","LOW"],["value","MEDIUM"],["value","HIGH"],["value","CRITICAL"],["matInput","","rows","5","placeholder","Explica qu\xE9 ha pasado...","required","",3,"ngModelChange","ngModel"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-flat-button","","color","primary",3,"click","disabled"]],template:function(e,i){e&1&&(r(0,"h2",0)(1,"mat-icon"),l(2,"add_alert"),s(),l(3,` Nueva Incidencia
`),s(),r(4,"mat-dialog-content")(5,"div",1)(6,"mat-form-field",2)(7,"mat-label"),l(8,"Asunto"),s(),r(9,"input",3),Te("ngModelChange",function(o){return ke(i.ticket.title,o)||(i.ticket.title=o),o}),s()(),r(10,"mat-form-field",2)(11,"mat-label"),l(12,"Prioridad"),s(),r(13,"mat-select",4),Te("ngModelChange",function(o){return ke(i.ticket.priority,o)||(i.ticket.priority=o),o}),r(14,"mat-option",5),l(15,"\u{1F7E2} Baja"),s(),r(16,"mat-option",6),l(17,"\u{1F7E1} Media"),s(),r(18,"mat-option",7),l(19,"\u{1F534} Alta"),s(),r(20,"mat-option",8),l(21,"\u{1F534} Altisimo"),s()()(),r(22,"mat-form-field",2)(23,"mat-label"),l(24,"Descripci\xF3n detallada"),s(),r(25,"textarea",9),Te("ngModelChange",function(o){return ke(i.ticket.description,o)||(i.ticket.description=o),o}),s()()()(),r(26,"mat-dialog-actions",10)(27,"button",11),l(28,"Cancelar"),s(),r(29,"button",12),D("click",function(){return i.save()}),l(30," Enviar Ticket "),s()()),e&2&&(d(9),xe("ngModel",i.ticket.title),d(4),xe("ngModel",i.ticket.priority),d(12),xe("ngModel",i.ticket.description),d(4),p("disabled",!i.ticket.title||!i.ticket.description))},dependencies:[re,Se,Kt,nt,rt,ot,le,se,Ve,He,Ne,je,ui,We,$e,Ue,di,si,ht,ci,li,ce],encapsulation:2})};var ol=(t,n)=>n.id;function rl(t,n){t&1&&(r(0,"span",19),l(1,"\u2705 Activo"),s())}function sl(t,n){t&1&&(r(0,"span",20),l(1,"\u274C Inactivo"),s())}function ll(t,n){if(t&1&&(r(0,"div",8)(1,"h2",18),l(2),s(),r(3,"p")(4,"strong"),l(5,"CIF:"),s(),l(6),s(),r(7,"p")(8,"strong"),l(9,"Estado:"),s(),b(10,rl,2,0,"span",19)(11,sl,2,0,"span",20),s()()),t&2){let e,i,a,o=h();d(2),G((e=o.companyData())==null?null:e.companyName),d(4),w(" ",(i=o.companyData())==null?null:i.cif),d(4),g((a=o.companyData())!=null&&a.active?10:11)}}function cl(t,n){t&1&&(r(0,"p",9),l(1,"Cargando datos..."),s())}function dl(t,n){if(t&1&&y(0,"canvas",13),t&2){let e=h();p("data",e.chartData())("options",e.barChartOptions)("type",e.barChartType)}}function ml(t,n){t&1&&(r(0,"div",14)(1,"p",9),l(2,"Cargando gr\xE1fico..."),s()())}function ul(t,n){t&1&&(r(0,"span",22),l(1,"Critica"),s())}function pl(t,n){t&1&&(r(0,"span",23),l(1,"Alta"),s())}function hl(t,n){t&1&&(r(0,"span",24),l(1,"Media"),s())}function fl(t,n){t&1&&(r(0,"span",25),l(1,"Baja"),s())}function _l(t,n){if(t&1&&(r(0,"tr")(1,"td")(2,"strong"),l(3),s()(),r(4,"td"),b(5,ul,2,0,"span",22)(6,pl,2,0,"span",23)(7,hl,2,0,"span",24)(8,fl,2,0,"span",25),s(),r(9,"td")(10,"span",26),l(11),s()(),r(12,"td"),l(13),ue(14,"date"),s()()),t&2){let e=n.$implicit;d(3),G(e.title),d(2),g(e.priority=="CRITICAL"||e.priority=="CRITICAL"?5:e.priority=="ALTA"||e.priority=="HIGH"?6:e.priority=="MEDIA"||e.priority=="MEDIUM"?7:8),d(6),G(e.status),d(2),G(mt(14,4,e.creationDate,"dd/MM/yyyy"))}}function bl(t,n){if(t&1&&(r(0,"div",16)(1,"table",21)(2,"thead")(3,"tr")(4,"th"),l(5,"Asunto"),s(),r(6,"th"),l(7,"Prioridad"),s(),r(8,"th"),l(9,"Estado"),s(),r(10,"th"),l(11,"Fecha"),s()()(),r(12,"tbody"),X(13,_l,15,7,"tr",null,ol),s()()()),t&2){let e=h();d(13),J(e.tickets())}}function gl(t,n){t&1&&(r(0,"div",17)(1,"p",9),l(2,"No hay tickets recientes"),s()())}var Vi=class t{authService=m(Qe);clientService=m(Li);dialog=m(ve);incidenceService=m(Ke);barChartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0}}};barChartType="bar";chartData=we({labels:[],datasets:[{data:[],label:"Facturaci\xF3n (\u20AC)"}]});hasChartData=we(!1);userName=we("Cargando...");companyData=we(null);tickets=we([]);ngOnInit(){console.log("\u{1F504} Iniciando Dashboard..."),this.clientService.getMyProfile().subscribe({next:n=>{console.log("\u2705 Perfil cargado:",n),this.userName.set(n.username);let e=n.clientId,i=n.userId;e&&(this.clientService.getClientById(e).subscribe(a=>{this.companyData.set(a),this.loadChartMetrics(e)}),this.loadTickets(e))},error:n=>console.error("\u274C Error cargando perfil:",n)})}loadTickets(n){console.log("\u{1F4E1} Pidiendo tickets para la empresa ID:",n),this.incidenceService.getIncidencesByClient(n).subscribe({next:e=>{console.log(`\u2705 ${e.length} Tickets recibidos.`),this.tickets.set(e)},error:e=>console.error("\u{1F525} Error cargando tickets:",e)})}loadChartMetrics(n){this.clientService.getSubClients(n).subscribe({next:e=>{let i=e.map(o=>o.company_name||o.name),a=e.map(o=>o.billing);this.chartData.set({labels:i,datasets:[{data:a,label:"Facturaci\xF3n (\u20AC)",backgroundColor:["#3f51b5","#ff4081","#4caf50","#ff9800"],hoverBackgroundColor:"#512da8"}]}),e.length>0&&this.hasChartData.set(!0)},error:e=>console.error("Error cargando gr\xE1fico:",e)})}openCreateTicket(){this.dialog.open(Hi,{width:"600px"}).afterClosed().subscribe(e=>{if(e===!0){let i=Number(this.authService.getClientId());i&&(console.log("\u{1F504} Recargando lista de tickets tras creaci\xF3n..."),this.loadTickets(i))}})}openDetails(){let n=this.companyData();n&&this.clientService.getUsersByClientId(n.id).subscribe(e=>{this.clientService.getSubClients(n.id).subscribe(i=>{this.dialog.open(Ni,{width:"900px",data:{company:n,users:e,subClients:i}})})})}logout(){this.authService.logout()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-client-dashboard"]],decls:44,vars:4,consts:[[1,"dashboard-container"],[1,"header-row"],["mat-icon-button","",1,"avatar-btn"],[1,"large-icon"],["mat-menu-item","",3,"click"],[2,"color","#000000"],[1,"grid-layout"],["appearance","outlined"],[2,"padding","10px 0"],[1,"no-data"],["align","end"],["mat-stroked-button","","color","primary",3,"click"],[1,"centered-content",2,"height","300px","display","block"],["baseChart","",3,"data","options","type"],[1,"no-data-container"],["appearance","outlined",1,"full-width"],[1,"table-container"],[1,"centered-content",2,"padding","40px 0"],[2,"color","#3f51b5","margin","0"],[2,"color","green","font-weight","bold"],[2,"color","red","font-weight","bold"],[1,"tickets-table"],[1,"badge","darkRed"],[1,"badge","red"],[1,"badge","yellow"],[1,"badge","green"],[1,"status-pill"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"header",1)(2,"h1"),l(3),s(),r(4,"button",2)(5,"mat-icon",3),l(6,"account_circle"),s()(),r(7,"button",4),D("click",function(){return i.logout()}),r(8,"mat-icon",5),l(9,"logout"),s(),r(10,"span",5),l(11,"Cerrar Sesi\xF3n"),s()()(),r(12,"main",6)(13,"mat-card",7)(14,"mat-card-header")(15,"mat-card-title"),l(16,"Gestionar Empresa"),s()(),r(17,"mat-card-content"),b(18,ll,12,3,"div",8)(19,cl,2,0,"p",9),s(),r(20,"mat-card-actions",10)(21,"button",11),D("click",function(){return i.openDetails()}),r(22,"mat-icon"),l(23,"visibility"),s(),l(24," Ver Detalles "),s()()(),r(25,"mat-card",7)(26,"mat-card-header")(27,"mat-card-title"),l(28,"M\xE9tricas"),s()(),r(29,"mat-card-content",12),b(30,dl,1,3,"canvas",13)(31,ml,3,0,"div",14),s()(),r(32,"mat-card",15)(33,"mat-card-header")(34,"mat-card-title"),l(35,"Tickets / Incidencias"),s()(),r(36,"mat-card-content"),b(37,bl,15,0,"div",16)(38,gl,3,0,"div",17),s(),r(39,"mat-card-actions",10)(40,"button",11),D("click",function(){return i.openCreateTicket()}),r(41,"mat-icon"),l(42,"add_box"),s(),l(43," Gestionar / Crear "),s()()()()()),e&2&&(d(3),w("Bienvenido ",i.userName()),d(15),g(i.companyData()?18:19),d(12),g(i.chartData()?30:31),d(7),g(i.tickets().length>0?37:38))},dependencies:[Dt,gt,hn,yt,Ct,vt,le,se,bt,be,ce,xt,pt,ai],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:24px;background-color:#f5f5f5;min-height:100vh}.header-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.large-icon[_ngcontent-%COMP%]{transform:scale(2);color:#673ab7}.grid-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:24px}.full-width[_ngcontent-%COMP%]{grid-column:span 2}.centered-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100px}.no-data[_ngcontent-%COMP%]{color:#7cb342;font-weight:500}mat-card[_ngcontent-%COMP%]{height:100%}.tickets-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:10px}.tickets-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;color:#777;font-size:.9rem;padding:10px;border-bottom:1px solid #eee}.tickets-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 10px;border-bottom:1px solid #f5f5f5}.badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:4px;font-size:.8rem;font-weight:700}.darkRed[_ngcontent-%COMP%]{background:#ffebee;color:#58151c}.red[_ngcontent-%COMP%]{background:#ffebee;color:#c62828}.yellow[_ngcontent-%COMP%]{background:#fff8e1;color:#fbc02d}.green[_ngcontent-%COMP%]{background:#e8f5e9;color:#2e7d32}.status-pill[_ngcontent-%COMP%]{background:#e3f2fd;color:#1565c0;padding:4px 10px;border-radius:12px;font-size:.85rem}.table-container[_ngcontent-%COMP%]{max-height:250px;overflow-y:auto;display:block}"]})};var ji=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-protected-shell"]],decls:2,vars:0,template:function(e,i){e&1&&(ti(0,"p"),l(1,"protected-shell works!"),ii())},encapsulation:2})};var vl=[{path:"",component:ji},{path:"admin",component:Ai},{path:"manager",component:Oi},{path:"tech",component:Bi},{path:"client",component:Vi}],Ui=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=j({type:t});static \u0275inj=V({imports:[Gi.forChild(vl),Gi]})};var lo=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=j({type:t});static \u0275inj=V({imports:[re,Ui]})};export{lo as ProtectedModule};
