import{B as ke,c as le,d as se}from"./chunk-TZP7RXOU.js";import{a as I}from"./chunk-PRF2IDA2.js";import{A as fe,B as he,C as ge,E as _e,Ea as Ae,Fa as Re,Ga as qe,Ha as Ie,Ka as Pe,La as Te,Ma as De,Na as je,Oa as Oe,g as S,h as Q,i as ee,k as te,l as re,m as ie,n as oe,na as xe,o as ne,p as ae,pa as ve,qa as be,r as me,ra as Ce,s as h,sa as Se,ta as ye,u as de,ua as Fe,v as ce,va as Ee,wa as we,y as ue,ya as Me,z as pe,za as Ne}from"./chunk-Y4CQGUG3.js";import{Ab as Z,Bb as W,Cb as X,Db as b,Eb as l,Fa as U,Fb as n,Gb as f,Nb as A,Rb as R,Sb as C,Ua as m,W as k,Ya as H,Z as x,_a as z,aa as D,ba as j,bb as $,ca as _,cc as J,da as O,db as N,eb as Y,ec as a,gc as q,ha as w,ia as M,jb as v,la as L,ma as V,qa as G,ta as B,tc as K,yb as u,zb as p}from"./chunk-U77FWCUX.js";var Ue="http://localhost:8080/sistema/api/v1/public",y=class r{constructor(e){this.http=e}sendServiceRequest(e){return this.http.post(`${Ue}/service-request`,e,{responseType:"text"})}static \u0275fac=function(t){return new(t||r)(j(te))};static \u0275prov=x({token:r,factory:r.\u0275fac,providedIn:"root"})};function $e(r,e){r&1&&a(0," Ideal para startups ")}function Ye(r,e){r&1&&a(0," M\xE1xima eficiencia ")}function Ze(r,e){r&1&&a(0," Servicios dedicados ")}function We(r,e){r&1&&a(0," 99\u20AC / mes ")}function Xe(r,e){r&1&&a(0," 299\u20AC / mes ")}function Je(r,e){r&1&&a(0," 499\u20AC / mes ")}function Ke(r,e){if(r&1){let t=A();l(0,"mat-card",10)(1,"mat-card-header",11)(2,"mat-card-title",12),a(3),n(),l(4,"mat-card-subtitle",13),u(5,$e,1,0)(6,Ye,1,0)(7,Ze,1,0),n()(),l(8,"mat-card-content",11)(9,"h2",14),u(10,We,1,0)(11,Xe,1,0)(12,Je,1,0),n()(),l(13,"mat-card-actions")(14,"button",15),R("click",function(){let o=w(t).$implicit,s=C();return M(s.selectPackage(o))}),a(15," Solicitar Plan "),n()()()}if(r&2){let t,i=e.$implicit;J("featured",i==="Plan Profesional"),m(3),q(" ",i," "),m(2),p(i==="Plan Esencial"?5:i==="Plan Profesional"?6:7),m(5),p((t=i)==="Plan Esencial"?10:t==="Plan Profesional"?11:t==="Plan Corporativo"?12:-1)}}function Qe(r,e){r&1&&(l(0,"div",17),a(1," \xA1Solicitud enviada! Un manager se pondr\xE1 en contacto pronto. "),n())}function et(r,e){r&1&&(l(0,"div",18),a(1," Error al enviar la solicitud. Por favor, int\xE9ntalo de nuevo. "),n())}function tt(r,e){r&1&&(l(0,"mat-error",22),a(1,"El nombre de la empresa es obligatorio."),n())}function rt(r,e){r&1&&(l(0,"mat-error",22),a(1,"El CIF/NIF es obligatorio y debe tener entre 9 y 20 caracteres."),n())}function it(r,e){r&1&&(l(0,"mat-error",22),a(1,"El nombre del contacto es obligatorio."),n())}function ot(r,e){r&1&&(l(0,"mat-error",22),a(1,"El correo es obligatorio."),n())}function nt(r,e){r&1&&(l(0,"mat-error",22),a(1,"Formato de correo inv\xE1lido."),n())}function at(r,e){if(r&1){let t=A();l(0,"mat-card",9)(1,"mat-card-header",11)(2,"mat-card-title",12),a(3),n()(),l(4,"mat-card-content",16),u(5,Qe,2,0,"div",17),u(6,et,2,0,"div",18),l(7,"form",19),R("ngSubmit",function(){w(t);let o=C();return M(o.onSubmitRequest())}),l(8,"mat-form-field",20)(9,"mat-label"),a(10,"Nombre de la Empresa"),n(),f(11,"input",21),u(12,tt,2,0,"mat-error",22),n(),l(13,"mat-form-field",20)(14,"mat-label"),a(15,"CIF / NIF"),n(),f(16,"input",23),u(17,rt,2,0,"mat-error",22),n(),l(18,"mat-form-field",20)(19,"mat-label"),a(20,"Nombre del Contacto"),n(),f(21,"input",24),u(22,it,2,0,"mat-error",22),n(),l(23,"mat-form-field",20)(24,"mat-label"),a(25,"Correo Electr\xF3nico"),n(),f(26,"input",25),u(27,ot,2,0,"mat-error",22),u(28,nt,2,0,"mat-error",22),n(),l(29,"mat-form-field",20)(30,"mat-label"),a(31,"Paquete Seleccionado"),n(),f(32,"input",26),n(),l(33,"mat-form-field",20)(34,"mat-label"),a(35,"Mensaje / Notas adicionales (Opcional)"),n(),f(36,"textarea",27),n(),l(37,"mat-card-actions",28)(38,"button",29),a(39," Enviar Solicitud "),n()()()()()}if(r&2){let t,i,o,s,c,g,d=C();m(3),q(" Solicitud del plan: ",(t=d.requestForm.get("packageName"))==null?null:t.value," "),m(2),p(d.requestStatus==="success"?5:-1),m(),p(d.requestStatus==="error"?6:-1),m(),b("formGroup",d.requestForm),m(5),p((i=d.requestForm.get("companyName"))!=null&&i.invalid&&((i=d.requestForm.get("companyName"))!=null&&i.touched)?12:-1),m(5),p((o=d.requestForm.get("cif"))!=null&&o.invalid&&((o=d.requestForm.get("cif"))!=null&&o.touched)?17:-1),m(5),p((s=d.requestForm.get("contactName"))!=null&&s.invalid&&((s=d.requestForm.get("contactName"))!=null&&s.touched)?22:-1),m(5),p((c=d.requestForm.get("email"))!=null&&c.hasError("required")&&((c=d.requestForm.get("email"))!=null&&c.touched)?27:-1),m(),p((g=d.requestForm.get("email"))!=null&&g.hasError("email")&&((g=d.requestForm.get("email"))!=null&&g.touched)?28:-1),m(4),b("readonly",!0),m(6),b("disabled",d.requestForm.invalid)}}var F=class r{constructor(e,t){this.fb=e;this.publicService=t}packages=["Plan Esencial","Plan Profesional","Plan Corporativo"];requestForm;requestStatus="idle";ngOnInit(){this.requestForm=this.fb.group({companyName:["",h.required],cif:["",[h.required,h.minLength(9),h.maxLength(20)]],contactName:["",h.required],email:["",[h.required,h.email]],packageName:["",h.required],message:[""]})}selectPackage(e){this.requestForm.patchValue({packageName:e}),this.requestStatus="idle"}onSubmitRequest(){if(this.requestStatus="idle",this.requestForm.valid){let e=this.requestForm.getRawValue();this.publicService.sendServiceRequest(this.requestForm.value).subscribe({next:()=>{this.requestStatus="success",this.requestForm.reset()},error:t=>{this.requestStatus="error",console.error("Error al enviar la solicitud: ",t)}})}}static \u0275fac=function(t){return new(t||r)(N(ge),N(y))};static \u0275cmp=v({type:r,selectors:[["app-store"]],decls:16,vars:1,consts:[[1,"store-container","min-h-screen","w-full","bg-neutral-100"],["color","primary",1,"nav","bg-white","shadow-sm","border-b","border-neutral-200","px-4","py-4","flex","items-center"],[1,"w-full","flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","gap-3"],[1,"text-neutral-800","font-medium","text-lg","text-center","sm:text-left","leading-none"],["mat-button","","routerLink","/auth/login",1,"text-neutral-700","hover:text-black","transition","flex","items-center","gap-1","whitespace-nowrap","justify-center","sm:justify-end","leading-none"],[1,"content-wrapper","max-w-6xl","mx-auto","py-10","px-4"],[1,"mat-display-1","text-3xl","font-bold","text-neutral-800","mb-8"],[1,"packages-grid","grid","gap-6","sm:grid-cols-1","md:grid-cols-2","lg:grid-cols-3","place-items-center"],[1,"package-card","bg-white","border","border-neutral-200","shadow-sm","rounded-xl","p-4","w-full","max-w-sm","transition","hover:shadow-md",3,"featured"],[1,"request-form-card","bg-white","border","border-neutral-200","shadow-md","rounded-xl","p-6","mt-10"],[1,"package-card","bg-white","border","border-neutral-200","shadow-sm","rounded-xl","p-4","w-full","max-w-sm","transition","hover:shadow-md"],[1,"mb-4"],[1,"text-xl","font-semibold","text-neutral-800"],[1,"text-neutral-600"],[1,"price","text-2xl","font-bold","text-blue-600"],["mat-raised-button","","color","accent",1,"bg-blue-500","hover:bg-blue-600","text-white","shadow-sm","px-4","py-2","rounded-md","transition",3,"click"],[1,"space-y-4"],[1,"success-message","bg-green-100","text-green-700","py-2","px-4","rounded-md","border","border-green-300"],[1,"error-message","bg-red-100","text-red-700","py-2","px-4","rounded-md","border","border-red-300"],[1,"request-form-grid","grid","grid-cols-1","gap-6",3,"ngSubmit","formGroup"],[1,"full-width","w-full"],["matInput","","formControlName","companyName","required","",1,"text-neutral-800"],[1,"text-red-600"],["matInput","","formControlName","cif","required","",1,"text-neutral-800"],["matInput","","formControlName","contactName","required","",1,"text-neutral-800"],["matInput","","formControlName","email","type","email","required","",1,"text-neutral-800"],["matInput","","formControlName","packageName",1,"text-neutral-800","bg-neutral-100",3,"readonly"],["matInput","","formControlName","message","rows","3",1,"text-neutral-800"],[1,"full-width","w-full","flex","justify-end"],["mat-raised-button","","color","primary","type","submit",1,"bg-blue-600","hover:bg-blue-700","text-white","px-6","py-2","rounded-md","shadow-sm","transition","disabled:opacity-50",3,"disabled"]],template:function(t,i){if(t&1&&(l(0,"div",0)(1,"mat-toolbar",1)(2,"div",2)(3,"span",3),a(4," CRM Soporte | Presentaci\xF3n de Servicios "),n(),l(5,"button",4)(6,"mat-icon"),a(7,"login"),n(),a(8," Volver al Login "),n()()(),l(9,"div",5)(10,"h1",6),a(11," Nuestros Paquetes de Soporte Empresarial "),n(),l(12,"section",7),W(13,Ke,16,5,"mat-card",8,Z),n(),u(15,at,40,11,"mat-card",9),n()()),t&2){let o;m(13),X(i.packages),m(2),p((o=i.requestForm.get("packageName"))!=null&&o.value?15:-1)}},dependencies:[S,ne,_e,ue,me,de,ce,he,pe,fe,we,be,Fe,Se,Ee,ye,Ce,ve,xe,je,De,Ie,qe,Te,Pe,Ae,Me,Ne,Re,ke],styles:["@media (max-width: 641px){.nav[_ngcontent-%COMP%]{height:125px;padding-top:25px}}"]})};var lt={ADMIN:"/protected/admin",MANAGER:"protected/manager",TECH:"/protected/tech",CLIENT:"/protected/client"},Le=(r,e)=>{let t=_(Oe),i=_(oe);if(!t.isLoggedIn())return console.warn("Acceso denegado. Redirigiendo a Login."),i.createUrlTree(["/auth/login"]);let o=t.getUserRole()?.toUpperCase(),s=lt[o||""];return s?e.url==="/protected"?i.createUrlTree([s]):!0:(console.error("Acceso denegado. Rol de usuario desconocido."),i.createUrlTree(["/auth/login"]))};var Ve=[{path:"store",component:F},{path:"auth/login",component:I},{path:"protected",canActivate:[Le],loadChildren:()=>import("./chunk-GFFOB6FS.js").then(r=>r.ProtectedModule)},{path:"auth",loadChildren:()=>import("./chunk-EFH6H2CG.js").then(r=>r.AuthModule)},{path:"",component:I,pathMatch:"full"}];var st="@",mt=(()=>{class r{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=_(L);loadingSchedulerFn=_(dt,{optional:!0});_engine;constructor(t,i,o,s,c){this.doc=t,this.delegate=i,this.zone=o,this.animationType=s,this.moduleImpl=c}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-XGQJKM6T.js").then(o=>o),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(t):i=t(),i.catch(o=>{throw new k(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:s})=>{this._engine=o(this.animationType,this.doc);let c=new s(this.delegate,this._engine,this.zone);return this.delegate=c,c})}createRenderer(t,i){let o=this.delegate.createRenderer(t,i);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let s=new T(o);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(c=>{let g=c.createRenderer(t,i);s.use(g),this.scheduler??=this.injector.get(B,null,{optional:!0}),this.scheduler?.notify(10)}).catch(c=>{s.use(o)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(t){this._engine?.flush(),this.delegate.componentReplaced?.(t)}static \u0275fac=function(i){Y()};static \u0275prov=x({token:r,factory:r.\u0275fac})}return r})(),T=class{delegate;replay=[];\u0275type=1;constructor(e){this.delegate=e}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,i,o){this.delegate.insertBefore(e,t,i,o)}removeChild(e,t,i,o){this.delegate.removeChild(e,t,i,o)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,o){this.delegate.setAttribute(e,t,i,o)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,o){this.delegate.setStyle(e,t,i,o)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){this.shouldReplay(t)&&this.replay.push(o=>o.setProperty(e,t,i)),this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i,o){return this.shouldReplay(t)&&this.replay.push(s=>s.listen(e,t,i,o)),this.delegate.listen(e,t,i,o)}shouldReplay(e){return this.replay!==null&&e.startsWith(st)}},dt=new D("");function Ge(r="animations"){return H("NgAsyncAnimations"),O([{provide:$,useFactory:(e,t,i)=>new mt(e,t,i,r),deps:[V,Q,z]},{provide:U,useValue:r==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Be={providers:[K({eventCoalescing:!0}),ae(Ve),re(),G(),Ge(),se(le())]};var E=class r{tittle="ProyectoCRM";static \u0275fac=function(t){return new(t||r)};static \u0275cmp=v({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){t&1&&f(0,"router-outlet")},dependencies:[ie,S],encapsulation:2})};ee(E,Be).catch(r=>console.error(r));
